{"version":3,"sources":["global/enums.tsx","assets/icons/settingsIcon.tsx","system/components/desktop/components/desktopGrid/desktopGrid.tsx","assets/icons/directoryIcon.tsx","assets/icons/directoryShortcutIcon.tsx","assets/icons/fileIcon.tsx","assets/icons/fileShortcutIcon.tsx","global/utils/helpers/displayHelper.tsx","system/apps/fileBrowser/components/directoryContainer/directoryContainerRow/directoryContainerRow.tsx","system/apps/fileBrowser/components/directoryContainer/directoryContainer.tsx","system/apps/fileBrowser/fileBrowser.tsx","system/apps/pdfViewer/pdfViewer.tsx","system/apps/webBrowser/webBrowser.tsx","global/utils/handlers/applicationHandler/applicationHandler.tsx","global/constants.tsx","global/utils/helpers/mobileHelper.tsx","assets/icons/internetIcon.tsx","global/utils/managers/driveManager/components/drive/drive.tsx","global/utils/managers/driveManager/components/file/file.tsx","global/utils/managers/driveManager/components/hydratedDirectory/hydratedDirectory.tsx","global/utils/managers/driveManager/components/shortcut/shortcut.tsx","global/utils/managers/driveManager/components/virtualDirectory/virtualDirectory.tsx","global/utils/managers/driveManager/driveManager.tsx","global/utils/managers/idHelper/idHelper.tsx","global/utils/helpers/windowHelper.tsx","global/utils/managers/windowManager/windowManager.tsx","assets/icons/powerIcon.tsx","system/components/startMenu/components/startMenuPane/startMenuPane.tsx","system/components/startMenu/components/bottomBar/bottomBar.tsx","system/components/startMenu/startMenu.tsx","global/utils/helpers/gridHelper.tsx","global/utils/helpers/positionHelper.tsx","global/utils/helpers/rectHelper.tsx","global/utils/handlers/dragHandler/dragHandler.tsx","system/components/desktop/components/desktopGrid/components/desktopItem/desktopItem.tsx","system/components/desktop/components/taskbar/components/taskbarItem/taskbarItem.tsx","system/components/desktop/components/taskbar/components/dateDisplay/dateDisplay.tsx","system/components/desktop/components/taskbar/components/minimizeAllButton/minimizeAllButton.tsx","assets/icons/startButtonIcon.tsx","system/components/desktop/components/taskbar/components/startButton/startButton.tsx","system/components/desktop/components/taskbar/taskbar.tsx","system/components/desktop/components/wallpaper/wallpaper.tsx","system/components/desktop/desktop.tsx","system/components/modals/power/powerModal.tsx","assets/icons/closeIcon.tsx","system/components/overlay/overlay.tsx","assets/icons/maximizeIcon.tsx","assets/icons/minimizeIcon.tsx","system/components/window/components/windowBar/components/windowControls.tsx","system/components/window/components/windowBar/windowBar.tsx","system/components/window/window.tsx","system/system.tsx","index.tsx"],"names":["WindowState","ApplicationHandler","StartMenuItemType","OSItemType","SystemState","WindowType","SettingsIcon","props","width","height","xmlns","viewBox","version","fill","d","initialPosition","multiSelect","DirectoryIcon","xmlnsXlink","preserveAspectRatio","id","xlinkHref","opacity","fillOpacity","stroke","strokeWidth","strokeOpacity","memo","DirectoryShortcutIcon","FileIcon","FileShortcutIcon","xmlSpace","transform","style","strokeDasharray","strokeLinecap","strokeDashoffset","strokeLinejoin","strokeMiterlimit","fillRule","getDisplayIcon","type","Directory","DirectoryShortcut","File","FileShortcut","getDisplayName","name","extension","newName","DirectoryContainerRow","rowProps","displayName","onDoubleClick","className","DirectoryContainer","dir","getHydratedDirectory","setCurrentDirectory","onFileDoubleClicked","location","parentId","driveId","directories","filter","map","files","f","shortcuts","s","key","link","FileBrowser","useState","currentPath","setCurrentPath","currentDirectory","useEffect","absPath","parentDir","undefined","readOnly","value","PDFViewer","uri","pageNumber","setPageNumber","pdf","setPdf","maxPages","setMaxPages","getPageAndRender","pdfPageNumber","pdfFile","getPage","then","fetchedPage","render","GlobalWorkerOptions","workerSrc","getDocument","promise","fetchedPdf","_pdfInfo","numPages","pageToRender","canvas","document","getElementById","ctx","getContext","viewport","getViewport","scale","canvasContext","disabled","onClick","WebBrowser","url","body","setBody","cancelTokenSource","axios","CancelToken","source","proxyUrl","get","cancelToken","token","res","data","contents","cancel","dangerouslySetInnerHTML","__html","invoke","file","win","toUpperCase","getNewPDFWindow","getNewWebBrowserWindow","invokeDirectoryHandler","hydratedDirectory","elem","state","Normal","element","selected","size","position","x","y","icon","windowParams","URLS","isMobileView","window","innerWidth","InternetIcon","Drive","letter","primary","fileRepository","Map","virtualDirectoryRepository","shortcutRepository","addOrUpdateFile","set","addOrUpdateDirectory","virtualDirectory","addOrUpdateShortcut","shortcut","addOrUpdateFiles","setDriveIdOnItems","addOrUpdateDirectories","virtualDirectories","directory","addOrUpdateShortcuts","driveItems","this","reference","HydratedDirectory","Shortcut","VirtualDirectory","hasChildren","length","idHelper","driveCount","fileCount","directoryCount","shortcutCount","getNewDriveId","getNewFileId","getNewDirectoryId","getNewShortcutId","DriveManager","drives","getPrimaryDrive","find","getAllFiles","drive","concat","Array","from","values","dirs","getDirectory","getShortcut","getFile","cvUri","gitHubUri","linkedInUri","cv","gitHubFileContents","linkedInFileContents","gitHub","linkedIn","rootDummyFile","rootId","desktopDirectoryId","projectsDirectory","root","desktopDirectory","rootDirectory","globalThis","getMaxWindowHeight","yOffset","innerHeight","getMaxWindowWidth","xOffset","WindowManager","windows","windowCount","onWindowStateChanged","windowsCopy","idx","findIndex","Maximized","Closed","splice","Minimized","onWindowSelected","w","onWindowPositionChanged","completedDrags","drag","windowIdx","onWindowClicked","onTaskbarItemClicked","onTaskbarItemDoubleClicked","onWindowSizeChanged","addWindow","getNewWindowId","push","minimizeAllWindows","PowerIcon","StartMenuPane","onStartMenuItemClicked","BottomBar","items","i","StartMenu","onNavigateAway","startButtonRef","onPowerButtonClicked","menuRef","useRef","bottomBarItems","onPowerButtonClickedInternal","handleMouseDown","event","target","current","contains","addEventListener","removeEventListener","ref","getAvailableGridPositions","availablePositions","Math","floor","DESKTOP_ICON_WIDTH","j","isValidPosition","overlap","line","selectionLine","getFormattedLine","targetLine","xy","x1y1","trueXY","abs","lastClickFire","DragHandler","options","elementRef","movingRef","selectedItemsGroup","onDragComplete","onDragStarted","onClickOccurred","onDoubleClickOccurred","positions","dragStartEventFired","draggingHasStarted","hasDragged","offsetX","offsetY","absX","absY","setListeners","onMouseDown","onMouseUp","onMouseMove","setOptions","setPositionByRef","selectedItem","pos","button","preventDefault","seconds","Date","getTime","diff","rect","getBoundingClientRect","clientX","left","clientY","top","newAbsX","newAbsY","diffX","diffY","getNewCoordinates","otherRefRect","selectedItemX","selectedItemY","_movingRef","clientWidth","clientHeight","removeListeners","DesktopItem","onDesktopItemClicked","onDesktopItemDoubleClicked","onDesktopItemPositionsChanged","shiftKey","fileHandler","isSelected","DesktopGrid","onDesktopItemsDoubleClicked","setLine","setSelected","setItems","desktopGridRef","getItem","useCallback","item","shift","selectedCopy","Error","gridPositions","newItems","createRef","handleKeyDown","selectedItems","handleResize","itemsCopy","usedPositions","p","available","predicate","coord","spliceIdx","indexOf","invalids","closest","sort","handleMouseMove","localLine","copy","handleMouseUp","events","changes","itemIdx","SelectionRectangle","formatted","m","onDesktopItemDoubleClickedInternal","TaskbarItem","TaskbarIcon","Settings","DateDisplay","date","setDate","timeout","setInterval","newDate","amOrPm","getHours","moment","format","clearInterval","MinimizeAllButton","onMinimizeAllClicked","StartButtonIcon","enableBackground","points","cx","cy","r","StartButton","onStartButtonClicked","Taskbar","children","Wallpaper","Desktop","startMenuShow","setStartMenuShow","PowerModal","sleep","shutdown","restart","CloseIcon","Overlay","onClickHandler","href","open","e","MaximizeIcon","MinimizeIcon","WindowControls","WindowBar","Window","windowObj","containerRef","windowBarRef","windowRef","dragHandlerOptions","dragHandler","maxWindowWidth","maxWindowHeight","overX","overY","maxHeight","maxWidth","driveManager","windowManager","applicationHandler","System","setWindows","On","systemState","setSystemState","showOverlay","setShowOverlay","code","Sleeping","invokeApplicationHandler","fileId","fileDriveId","directoryShortcut","fileShortcut","reload","Off","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.7069426d.chunk.js","sourcesContent":["export enum WindowState {\r\n    Minimized,\r\n    Maximized,\r\n    Normal,\r\n    Closed\r\n}\r\n\r\nexport enum ApplicationHandler {\r\n    WebBrowser,\r\n    FileExplorer\r\n}\r\n\r\nexport enum StartMenuItemType {\r\n    Power\r\n}\r\n\r\nexport enum OSItemType {\r\n    File,\r\n    Drive,\r\n    Directory,\r\n    FileShortcut,\r\n    DirectoryShortcut\r\n}\r\n\r\nexport enum SystemState {\r\n    On,\r\n    Off,\r\n    Sleeping\r\n}\r\n\r\nexport enum WindowType {\r\n    File,\r\n    Directory,\r\n    Settings\r\n}","import React from 'react'\r\nimport { IIconProps } from '../../global/interfaces'\r\n\r\nconst SettingsIcon = (props: IIconProps) => {\r\n    const { width = 48, height = 48 } = props\r\n\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width={`${width}px`} height={`${height}px`} viewBox=\"0 0 20 20\" version=\"1.1\">\r\n            <g>\r\n                <path fill=\"#FFFFFF\" d=\"M 10.933594 20 L 9.066406 20 C 8.4375 20 7.902344 19.527344 7.828125 18.898438 L 7.628906 17.335938 C 7.230469 17.207031 6.847656 17.046875 6.484375 16.863281 L 5.238281 17.828125 C 4.734375 18.222656 4.023438 18.175781 3.585938 17.726562 L 2.273438 16.414062 C 1.824219 15.976562 1.78125 15.265625 2.171875 14.761719 L 3.136719 13.515625 C 2.953125 13.152344 2.792969 12.769531 2.664062 12.371094 L 1.097656 12.171875 C 0.472656 12.097656 0 11.5625 0 10.933594 L 0 9.066406 C 0 8.4375 0.472656 7.902344 1.101562 7.828125 L 2.664062 7.628906 C 2.792969 7.230469 2.953125 6.847656 3.136719 6.484375 L 2.171875 5.238281 C 1.777344 4.734375 1.824219 4.023438 2.277344 3.585938 L 3.589844 2.273438 C 4.023438 1.824219 4.734375 1.78125 5.238281 2.171875 L 6.484375 3.136719 C 6.847656 2.953125 7.230469 2.792969 7.628906 2.664062 L 7.828125 1.097656 C 7.902344 0.472656 8.4375 0 9.066406 0 L 10.933594 0 C 11.5625 0 12.097656 0.472656 12.171875 1.101562 L 12.371094 2.664062 C 12.769531 2.792969 13.152344 2.953125 13.515625 3.136719 L 14.761719 2.171875 C 15.265625 1.777344 15.976562 1.824219 16.414062 2.277344 L 17.726562 3.589844 C 18.175781 4.023438 18.222656 4.734375 17.828125 5.238281 L 16.863281 6.484375 C 17.050781 6.847656 17.207031 7.230469 17.335938 7.628906 L 18.902344 7.828125 C 19.527344 7.902344 20 8.4375 20 9.066406 L 20 10.933594 C 20 11.5625 19.527344 12.097656 18.898438 12.171875 L 17.335938 12.371094 C 17.207031 12.769531 17.046875 13.152344 16.863281 13.515625 L 17.828125 14.761719 C 18.222656 15.265625 18.175781 15.976562 17.722656 16.414062 L 16.410156 17.726562 C 15.976562 18.175781 15.265625 18.222656 14.761719 17.828125 L 13.515625 16.863281 C 13.152344 17.046875 12.769531 17.207031 12.371094 17.335938 L 12.171875 18.902344 C 12.097656 19.527344 11.5625 20 10.933594 20 Z M 6.441406 15.949219 C 6.511719 15.949219 6.582031 15.96875 6.644531 16.003906 C 7.105469 16.257812 7.601562 16.464844 8.125 16.617188 C 8.285156 16.660156 8.402344 16.796875 8.421875 16.964844 L 8.65625 18.796875 C 8.679688 19.003906 8.859375 19.167969 9.066406 19.167969 L 10.933594 19.167969 C 11.140625 19.167969 11.320312 19.003906 11.34375 18.800781 L 11.578125 16.964844 C 11.597656 16.800781 11.714844 16.664062 11.875 16.617188 C 12.398438 16.464844 12.894531 16.261719 13.355469 16.003906 C 13.5 15.921875 13.683594 15.9375 13.8125 16.039062 L 15.273438 17.171875 C 15.4375 17.300781 15.675781 17.289062 15.816406 17.144531 L 17.136719 15.824219 C 17.289062 15.675781 17.300781 15.441406 17.171875 15.273438 L 16.039062 13.8125 C 15.933594 13.683594 15.921875 13.5 16.003906 13.355469 C 16.257812 12.898438 16.464844 12.398438 16.617188 11.878906 C 16.660156 11.71875 16.796875 11.601562 16.964844 11.578125 L 18.796875 11.347656 C 19.003906 11.320312 19.167969 11.140625 19.167969 10.933594 L 19.167969 9.066406 C 19.167969 8.859375 19.003906 8.679688 18.800781 8.65625 L 16.964844 8.421875 C 16.800781 8.402344 16.664062 8.285156 16.617188 8.125 C 16.464844 7.601562 16.261719 7.105469 16.003906 6.644531 C 15.921875 6.5 15.933594 6.316406 16.039062 6.1875 L 17.171875 4.726562 C 17.300781 4.558594 17.289062 4.324219 17.144531 4.183594 L 15.824219 2.863281 C 15.675781 2.710938 15.441406 2.699219 15.273438 2.828125 L 13.816406 3.964844 C 13.683594 4.066406 13.5 4.078125 13.355469 4 C 12.898438 3.742188 12.402344 3.535156 11.878906 3.386719 C 11.71875 3.339844 11.601562 3.203125 11.578125 3.039062 L 11.347656 1.203125 C 11.320312 0.996094 11.140625 0.832031 10.933594 0.832031 L 9.066406 0.832031 C 8.859375 0.832031 8.679688 0.996094 8.65625 1.199219 L 8.421875 3.035156 C 8.402344 3.199219 8.285156 3.335938 8.125 3.382812 C 7.601562 3.535156 7.101562 3.742188 6.644531 3.996094 C 6.5 4.078125 6.316406 4.0625 6.1875 3.960938 L 4.726562 2.828125 C 4.558594 2.699219 4.324219 2.710938 4.183594 2.855469 L 2.863281 4.179688 C 2.710938 4.324219 2.699219 4.558594 2.828125 4.726562 L 3.960938 6.1875 C 4.066406 6.316406 4.078125 6.5 3.996094 6.644531 C 3.738281 7.105469 3.535156 7.601562 3.382812 8.125 C 3.339844 8.285156 3.203125 8.402344 3.035156 8.421875 L 1.203125 8.65625 C 0.996094 8.679688 0.832031 8.859375 0.832031 9.066406 L 0.832031 10.933594 C 0.832031 11.140625 0.996094 11.320312 1.199219 11.34375 L 3.035156 11.578125 C 3.199219 11.597656 3.335938 11.714844 3.382812 11.875 C 3.535156 12.398438 3.738281 12.894531 3.996094 13.355469 C 4.078125 13.5 4.066406 13.683594 3.960938 13.8125 L 2.828125 15.273438 C 2.699219 15.441406 2.710938 15.675781 2.855469 15.816406 L 4.175781 17.136719 C 4.324219 17.289062 4.558594 17.300781 4.726562 17.171875 L 6.183594 16.035156 C 6.261719 15.980469 6.351562 15.949219 6.441406 15.949219 Z M 6.441406 15.949219 \" />\r\n                <path fill=\"#FFFFFF\" d=\"M 10 14.167969 C 7.703125 14.167969 5.832031 12.296875 5.832031 10 C 5.832031 7.703125 7.703125 5.832031 10 5.832031 C 12.296875 5.832031 14.167969 7.703125 14.167969 10 C 14.167969 12.296875 12.296875 14.167969 10 14.167969 Z M 10 6.667969 C 8.160156 6.667969 6.667969 8.160156 6.667969 10 C 6.667969 11.839844 8.160156 13.332031 10 13.332031 C 11.839844 13.332031 13.332031 11.839844 13.332031 10 C 13.332031 8.160156 11.839844 6.667969 10 6.667969 Z M 10 6.667969 \" />\r\n            </g>\r\n        </svg>)\r\n}\r\n\r\nexport default SettingsIcon","import React, { createRef, memo, useCallback, useEffect, useRef, useState } from 'react'\r\nimport { DESKTOP_ICON_HEIGHT, DESKTOP_ICON_WIDTH } from '../../../../../global/constants'\r\nimport { OSItemType } from '../../../../../global/enums'\r\nimport { ICoordinates, IDesktopDisplayItem, IDragCompletedEvent, IHydratedDirectory, IIdDefinedReferenceModel, ILineCoordinates, IOSItemClickedEvent } from '../../../../../global/interfaces'\r\nimport { getAvailableGridPositions } from '../../../../../global/utils/helpers/gridHelper'\r\nimport { isValidPosition } from '../../../../../global/utils/helpers/positionHelper'\r\nimport { getFormattedLine, overlap } from '../../../../../global/utils/helpers/rectHelper'\r\nimport DesktopItem from './components/desktopItem/desktopItem'\r\nimport './styles.scss'\r\n\r\nvar initialPosition: ICoordinates | undefined\r\nvar multiSelect: boolean | undefined\r\n\r\ninterface IDesktopGridProps {\r\n    getHydratedDirectory: (id: string, driveId: string) => IHydratedDirectory | undefined\r\n    onDesktopItemsDoubleClicked: (events: IOSItemClickedEvent[]) => void\r\n}\r\n\r\nconst DesktopGrid = (props: IDesktopGridProps) => {\r\n    const {\r\n        getHydratedDirectory,\r\n        onDesktopItemsDoubleClicked\r\n    } = props\r\n\r\n    const [line, setLine] = useState<ILineCoordinates>()\r\n    const [selected, setSelected] = useState<IIdDefinedReferenceModel[]>([])\r\n    const [items, setItems] = useState<IDesktopDisplayItem[]>([])\r\n\r\n    const desktopGridRef = useRef<HTMLDivElement>(null)\r\n\r\n    const getItem = useCallback((id: string) => {\r\n        var item = items.find(i => i.id === id)\r\n        if (!item) {\r\n            return null\r\n        }\r\n\r\n        var reference = item.reference\r\n        if (!reference) {\r\n            return null\r\n        }\r\n\r\n        return { id: id, reference: reference }\r\n    }, [items])\r\n\r\n    const onDesktopItemClicked = useCallback((id: string, shift: boolean) => {\r\n        var item = getItem(id)\r\n        if (!item) return\r\n\r\n        if (selected.length === 0 || (!multiSelect && !shift)) {\r\n            setSelected([item])\r\n            return\r\n        }\r\n\r\n        var selectedCopy = [...selected]\r\n        if (selectedCopy.findIndex(s => s.id === item!.id) === -1) {\r\n            setSelected(selectedCopy.concat({ id: item.id, reference: item.reference }))\r\n        }\r\n    }, [selected, getItem])\r\n\r\n    useEffect(() => {\r\n        if (!globalThis.desktopDirectory || !globalThis.desktopDirectory.id || !globalThis.desktopDirectory.driveId) {\r\n            throw new Error('Desktop directory not defined')\r\n        }\r\n\r\n        const directory = getHydratedDirectory(globalThis.desktopDirectory.id, globalThis.desktopDirectory.driveId)\r\n        if (!directory) {\r\n            throw new Error('Desktop directory not defined')\r\n        }\r\n\r\n        var directories = directory.directories.filter(x => x) as IDesktopDisplayItem[]\r\n        var files = directory.files.filter(x => x) as IDesktopDisplayItem[]\r\n        var shortcuts = directory.shortcuts.filter(x => x) as IDesktopDisplayItem[]\r\n\r\n        var gridPositions = getAvailableGridPositions()\r\n\r\n        const getCorrectedPosition = (position: ICoordinates | undefined) => {\r\n            if (isValidPosition(position, 0, 0)) {\r\n                return position\r\n            }\r\n\r\n            var newPos = gridPositions.shift()\r\n            return newPos ? newPos : { x: 0, y: 0 }\r\n        }\r\n\r\n        var newItems = directories\r\n            .concat(files)\r\n            .concat(shortcuts)\r\n            .map(i => {\r\n                var pos = getCorrectedPosition(i.position)\r\n                return {\r\n                    ...i,\r\n                    reference: createRef<HTMLDivElement>(),\r\n                    initialPosition: pos,\r\n                    position: pos\r\n                }\r\n            })\r\n\r\n        setItems(newItems)\r\n    }, [getHydratedDirectory])\r\n\r\n    useEffect(() => {\r\n        const handleKeyDown = (event: KeyboardEvent) => {\r\n            if (event.key === 'Enter') {\r\n                if (selected && selected.length > 0 && items.length > 0) {\r\n                    var selectedItems: IOSItemClickedEvent[] = []\r\n                    for (const selectedItem of selected) {\r\n                        var item = items.find(x => x.id === selectedItem.id)\r\n                        if (item) {\r\n                            selectedItems.push({ id: selectedItem.id, type: item.type, driveId: item.driveId })\r\n                        }\r\n                    }\r\n\r\n                    onDesktopItemsDoubleClicked(selectedItems)\r\n                }\r\n            }\r\n        }\r\n\r\n        window.addEventListener('keydown', handleKeyDown)\r\n        return () => window.removeEventListener('keydown', handleKeyDown)\r\n    }, [selected, items, onDesktopItemsDoubleClicked])\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (items.length === 0) return\r\n\r\n            var itemsCopy = [...items]\r\n\r\n            const usedPositions = itemsCopy.map(i => i.position).filter(p => p)\r\n\r\n            const predicate = (available: ICoordinates) => usedPositions.findIndex(p => p!.x === available.x && p!.y === available.y)\r\n\r\n            var gridPositions = getAvailableGridPositions()\r\n                .filter(available => predicate(available) === -1)\r\n\r\n            const splice = (coord: ICoordinates) => {\r\n                var spliceIdx = gridPositions.indexOf(coord)\r\n                if (spliceIdx !== -1) {\r\n                    gridPositions.splice(spliceIdx, 1)\r\n                }\r\n            }\r\n\r\n            var invalids = itemsCopy.filter(i => !isValidPosition(i.position, 0, 0))\r\n\r\n            for (const item of invalids) {\r\n                var idx = itemsCopy.findIndex(i => i.id === item.id)\r\n\r\n                if (idx === -1) {\r\n                    continue\r\n                }\r\n\r\n                if (gridPositions.length === 0) {\r\n                    itemsCopy[idx].position = isValidPosition(item.initialPosition, 0, 0)\r\n                        ? item.initialPosition\r\n                        : { x: -100000, y: -100000 }\r\n                }\r\n                \r\n                if (!item.position) {\r\n                    var pos = gridPositions[0]\r\n                    itemsCopy[idx].position = pos\r\n                    splice(pos)\r\n                    continue\r\n                }\r\n\r\n                const { x, y } = item.position\r\n\r\n                var closest = [...gridPositions]\r\n                    .sort(coord => Math.abs(x - coord.x))\r\n                    .sort(coord => Math.abs(y - coord.y))[0]\r\n                    \r\n                splice(closest)\r\n                itemsCopy[idx].position = closest\r\n            }\r\n\r\n            setItems(itemsCopy)\r\n        }\r\n\r\n        window.addEventListener(\"resize\", handleResize)\r\n        return () => window.removeEventListener(\"resize\", handleResize)\r\n    }, [items])\r\n\r\n    useEffect(() => {\r\n        const handleMouseMove = (event: MouseEvent) => {\r\n            if (multiSelect && initialPosition) {\r\n                var localLine = {\r\n                    xy: { x: initialPosition.x, y: initialPosition.y },\r\n                    x1y1: { x: event.clientX, y: event.clientY }\r\n                }\r\n\r\n                if (items) {\r\n                    var itemsCopy = [...items]\r\n                    for (var item of itemsCopy) {\r\n                        if (!item.position) continue\r\n                        const { x, y } = item.position\r\n\r\n                        var targetLine = {\r\n                            xy: { x, y: y + DESKTOP_ICON_HEIGHT },\r\n                            x1y1: { x: x + DESKTOP_ICON_WIDTH, y: y }\r\n                        }\r\n\r\n                        if (overlap(localLine, targetLine)) {\r\n                            onDesktopItemClicked(item.id, false)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                setLine(localLine)\r\n            }\r\n        }\r\n\r\n        window.addEventListener('mousemove', handleMouseMove)\r\n        return () => window.removeEventListener('mousemove', handleMouseMove)\r\n    }, [selected, items, onDesktopItemClicked])\r\n\r\n    useEffect(() => {\r\n        var copy = desktopGridRef.current\r\n\r\n        const handleMouseDown = (event: MouseEvent) => {\r\n            setSelected([])\r\n            initialPosition = { x: event.clientX, y: event.clientY }\r\n            multiSelect = true\r\n        }\r\n\r\n        const handleMouseUp = (event: MouseEvent) => {\r\n            multiSelect = false\r\n            setLine(undefined)\r\n        }\r\n\r\n        window.addEventListener('mouseup', handleMouseUp)\r\n\r\n        if (copy) {\r\n            copy.addEventListener('mousedown', handleMouseDown)\r\n        }\r\n        return () => {\r\n            window.removeEventListener('mouseup', handleMouseUp)\r\n            if (copy) {\r\n                copy.removeEventListener('mousedown', handleMouseDown)\r\n            }\r\n        }\r\n    }, [selected])\r\n\r\n    const onDesktopItemDoubleClickedInternal = (id: string, type: OSItemType, driveId: string | undefined) => {\r\n        var item = getItem(id)\r\n        if (!item) return\r\n        setSelected([item])\r\n        onDesktopItemsDoubleClicked([{ id, type, driveId }])\r\n    }\r\n\r\n    const onDesktopItemPositionsChanged = (events: IDragCompletedEvent[]) => {\r\n        if (events.length === 0) return\r\n\r\n        var itemsCopy = [...items]\r\n        var changes = false\r\n        for (const event of events) {\r\n            var itemIdx = itemsCopy.findIndex(x => x.id === event.id)\r\n            if (itemIdx !== -1) {\r\n                itemsCopy[itemIdx].position = event.position\r\n                changes = true\r\n            }\r\n        }\r\n\r\n        if (changes) {\r\n            setItems(itemsCopy)\r\n        }        \r\n    }\r\n\r\n    const SelectionRectangle = () => {\r\n        if (!line || !multiSelect) {\r\n            return null\r\n        }\r\n\r\n        var formatted = getFormattedLine(line)\r\n\r\n        var height = Math.abs(formatted.xy.y - formatted.x1y1.y)\r\n        var width = Math.abs(formatted.xy.x - formatted.x1y1.x)\r\n        \r\n        return (\r\n            <div className=\"selection-rectangle\" style={{\r\n                left: formatted.xy.x,\r\n                top: formatted.xy.y,\r\n                height: height,\r\n                width: width\r\n            }} />)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <SelectionRectangle />\r\n            {items.map(m =>\r\n                <DesktopItem\r\n                    key={m.id}\r\n                    {...m}\r\n                    selectedItemsGroup={selected}\r\n                    onDesktopItemClicked={(id, shift) => onDesktopItemClicked(id, shift)}\r\n                    onDesktopItemDoubleClicked={() => onDesktopItemDoubleClickedInternal(m.id, m.type, m.driveId)}\r\n                    onDesktopItemPositionsChanged={onDesktopItemPositionsChanged}\r\n                />\r\n            )}\r\n            <div id=\"desktop-grid\" className=\"desktop-grid\" ref={desktopGridRef} />\r\n        </>)\r\n}\r\n\r\nexport default memo(DesktopGrid)","import React, { memo } from 'react'\r\nimport { IIconProps } from '../../global/interfaces'\r\n\r\nconst DirectoryIcon = (props: IIconProps) => {\r\n    const { width = 48, height = 48 } = props\r\n\r\n    return (<svg version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n        viewBox=\"0 0 640 640\"\r\n        width={`${width}px`}\r\n        height={`${height}px`}>\r\n        <defs>\r\n            <path d=\"M291.71 105.04C284.21 97.55 274.04 93.33 263.43 93.33C243.75 93.33 86.34 93.33 66.67 93.33C51.93 93.33 40 105.27 40 120C40 160 40 480 40 520C40 534.73 51.93 546.67 66.67 546.67C117.33 546.67 522.67 546.67 573.33 546.67C588.07 546.67 600 534.73 600 520C600 485.33 600 208 600 173.33C600 158.6 588.07 146.67 573.33 146.67C550.44 146.67 367.27 146.67 344.37 146.67C337.31 146.67 330.52 143.85 325.52 138.85C318.76 132.09 295.09 108.42 291.71 105.04Z\" id=\"dTOMN48q9\">\r\n            </path>\r\n            <path d=\"M331.39 148.61C332.63 147.37 334.32 146.67 336.09 146.67C359.82 146.67 549.61 146.67 573.33 146.67C588.07 146.67 600 158.6 600 173.33C600 208 600 485.33 600 520C600 534.73 588.07 546.67 573.33 546.67C522.67 546.67 117.33 546.67 66.67 546.67C51.93 546.67 40 534.73 40 520C40 488.67 40 238 40 206.67C40 202.99 42.99 200 46.67 200C68.9 200 246.73 200 268.96 200C276.03 200 282.81 197.19 287.81 192.19C296.53 183.47 327.03 152.97 331.39 148.61Z\" id=\"a583nY6oB\">\r\n            </path>\r\n        </defs>\r\n        <g>\r\n            <g>\r\n                <g><use xlinkHref=\"#dTOMN48q9\"\r\n                    opacity=\"1\"\r\n                    fill=\"#ffc600\"\r\n                    fillOpacity=\"1\">\r\n                </use>\r\n                    <g>\r\n                        <use xlinkHref=\"#dTOMN48q9\"\r\n                            opacity=\"1\"\r\n                            fillOpacity=\"0\"\r\n                            stroke=\"#000000\"\r\n                            strokeWidth=\"1\"\r\n                            strokeOpacity=\"0\">\r\n                        </use>\r\n                    </g>\r\n                </g>\r\n                <g>\r\n                    <use xlinkHref=\"#a583nY6oB\"\r\n                        opacity=\"1\"\r\n                        fill=\"#ffba00\"\r\n                        fillOpacity=\"1\">\r\n                    </use>\r\n                    <g>\r\n                        <use xlinkHref=\"#a583nY6oB\"\r\n                            opacity=\"1\"\r\n                            fillOpacity=\"0\"\r\n                            stroke=\"#000000\"\r\n                            strokeWidth=\"1\"\r\n                            strokeOpacity=\"0\">\r\n                        </use>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </svg>)\r\n}\r\n\r\nexport default memo(DirectoryIcon)","import React from 'react'\r\nimport { IIconProps } from '../../global/interfaces'\r\n\r\nconst DirectoryShortcutIcon = (props: IIconProps) => {\r\n    const { width = 48, height = 48 } = props\r\n\r\n    return (<svg version=\"1.1\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n        viewBox=\"0 0 640 640\"\r\n        width={`${width}px`}\r\n        height={`${height}px`}>\r\n        <defs>\r\n            <path d=\"M291.71 105.04C284.21 97.55 274.04 93.33 263.43 93.33C243.75 93.33 86.34 93.33 66.67 93.33C51.93 93.33 40 105.27 40 120C40 160 40 480 40 520C40 534.73 51.93 546.67 66.67 546.67C117.33 546.67 522.67 546.67 573.33 546.67C588.07 546.67 600 534.73 600 520C600 485.33 600 208 600 173.33C600 158.6 588.07 146.67 573.33 146.67C550.44 146.67 367.27 146.67 344.37 146.67C337.31 146.67 330.52 143.85 325.52 138.85C318.76 132.09 295.09 108.42 291.71 105.04Z\" id=\"dTOMN48q9\">\r\n            </path>\r\n            <path d=\"M331.39 148.61C332.63 147.37 334.32 146.67 336.09 146.67C359.82 146.67 549.61 146.67 573.33 146.67C588.07 146.67 600 158.6 600 173.33C600 208 600 485.33 600 520C600 534.73 588.07 546.67 573.33 546.67C522.67 546.67 117.33 546.67 66.67 546.67C51.93 546.67 40 534.73 40 520C40 488.67 40 238 40 206.67C40 202.99 42.99 200 46.67 200C68.9 200 246.73 200 268.96 200C276.03 200 282.81 197.19 287.81 192.19C296.53 183.47 327.03 152.97 331.39 148.61Z\" id=\"a583nY6oB\">\r\n            </path>\r\n            <path d=\"M105.38 465.19C102.04 465.19 99.33 467.73 99.33 470.88C99.33 474.02 102.04 476.57 105.38 476.57C106.97 476.57 114.89 476.57 129.15 476.57C94.3 509.32 74.94 527.51 71.07 531.15C68.7 533.37 68.7 536.98 71.07 539.2C72.25 540.31 73.8 540.87 75.35 540.87C76.9 540.87 78.45 540.31 79.63 539.2C83.51 535.56 102.87 517.37 137.72 484.62C137.72 498.02 137.72 505.46 137.72 506.95C137.72 510.1 140.43 512.65 143.77 512.65C147.12 512.65 149.83 510.1 149.83 506.95C149.83 503.35 149.83 474.49 149.83 470.88C149.83 467.73 147.12 465.19 143.77 465.19C136.09 465.19 109.22 465.19 105.38 465.19Z\" id=\"b33dgSbGlo\">\r\n            </path>\r\n            <path d=\"M112.94 518.34C112.94 522.07 112.94 540.72 112.94 574.28L30.83 574.28L30.83 497.12C68.7 497.12 89.74 497.12 93.94 497.12C97.29 497.12 100 494.57 100 491.43C100 488.29 97.29 485.74 93.94 485.74C87.03 485.74 31.69 485.74 24.77 485.74C21.43 485.74 18.72 488.29 18.72 491.43C18.72 500.28 18.72 571.12 18.72 579.97C18.72 583.12 21.43 585.67 24.77 585.67C34.19 585.67 109.57 585.67 118.99 585.67C122.34 585.67 125.05 583.12 125.05 579.97C125.05 573.81 125.05 524.5 125.05 518.34C125.05 515.19 122.34 512.65 118.99 512.65C115.65 512.65 112.94 515.19 112.94 518.34Z\" id=\"aNl4SuUf\">\r\n            </path>\r\n        </defs>\r\n        <g>\r\n            <g>\r\n                <g>\r\n                    <use xlinkHref=\"#dTOMN48q9\"\r\n                        opacity=\"1\"\r\n                        fill=\"#ffc600\"\r\n                        fillOpacity=\"1\">\r\n                    </use>\r\n                    <g>\r\n                        <use xlinkHref=\"#dTOMN48q9\"\r\n                            opacity=\"1\"\r\n                            fillOpacity=\"0\"\r\n                            stroke=\"#000000\"\r\n                            strokeWidth=\"1\"\r\n                            strokeOpacity=\"0\">\r\n                        </use>\r\n                    </g>\r\n                </g>\r\n                <g>\r\n                    <use xlinkHref=\"#a583nY6oB\"\r\n                        opacity=\"1\"\r\n                        fill=\"#ffba00\"\r\n                        fillOpacity=\"1\">\r\n                    </use>\r\n                    <g>\r\n                        <use xlinkHref=\"#a583nY6oB\"\r\n                            opacity=\"1\"\r\n                            fillOpacity=\"0\"\r\n                            stroke=\"#000000\"\r\n                            strokeWidth=\"1\"\r\n                            strokeOpacity=\"0\">\r\n                        </use>\r\n                    </g>\r\n                </g>\r\n                <g>\r\n                    <use xlinkHref=\"#b33dgSbGlo\"\r\n                        opacity=\"1\"\r\n                        fill=\"#000000\"\r\n                        fillOpacity=\"1\">\r\n                    </use>\r\n                    <g>\r\n                        <use xlinkHref=\"#b33dgSbGlo\"\r\n                            opacity=\"1\"\r\n                            fillOpacity=\"0\"\r\n                            stroke=\"#000000\"\r\n                            strokeWidth=\"1\"\r\n                            strokeOpacity=\"0\">\r\n                        </use>\r\n                    </g>\r\n                </g>\r\n                <g>\r\n                    <use xlinkHref=\"#aNl4SuUf\"\r\n                        opacity=\"1\"\r\n                        fill=\"#000000\"\r\n                        fillOpacity=\"1\">\r\n                    </use>\r\n                    <g>\r\n                        <use xlinkHref=\"#aNl4SuUf\"\r\n                            opacity=\"1\"\r\n                            fillOpacity=\"0\"\r\n                            stroke=\"#000000\"\r\n                            strokeWidth=\"1\"\r\n                            strokeOpacity=\"0\">\r\n                        </use>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </g>\r\n    </svg>)\r\n}\r\n\r\nexport default DirectoryShortcutIcon","import React, { memo } from 'react'\r\nimport { IIconProps } from '../../global/interfaces'\r\n\r\nconst FileIcon = (props: IIconProps) => {\r\n    const { width = 48, height = 48 } = props\r\n\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 48 48\"\r\n            width={`${width}px`}\r\n            height={`${height}px`}>\r\n            <path fill=\"#FFFFFF\" d=\"M40 45L8 45 8 3 30 3 40 13z\" />\r\n            <path fill=\"#D3D3D3\" d=\"M38.5 14L29 14 29 4.5z\" />\r\n            <path fill=\"#000000\" d=\"M16 21H33V23H16zM16 25H29V27H16zM16 29H33V31H16zM16 33H29V35H16z\" />\r\n        </svg>)\r\n}\r\n\r\nexport default memo(FileIcon)","import React from 'react'\r\nimport { IIconProps } from '../../global/interfaces'\r\n\r\nconst FileShortcutIcon = (props: IIconProps) => {\r\n\tconst { width, height } = props\r\n\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\txmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\tversion=\"1.1\"\r\n\t\t\twidth={`${width}px`}\r\n\t\t\theight={`${height}px`}\r\n\t\t\tviewBox=\"0 0 181 240\"\r\n\t\t\txmlSpace=\"preserve\">\r\n\t\t\t<desc>Created with Fabric.js 3.6.3</desc>\r\n\t\t\t<defs>\r\n\t\t\t</defs>\r\n\t\t\t<g transform=\"matrix(5.34 0 0 5.34 95.25 112.25)\"  >\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<g transform=\"matrix(1 0 0 1 0 0)\"  >\r\n\t\t\t\t\t\t<path style={{\r\n\t\t\t\t\t\t\tstroke: 'none',\r\n\t\t\t\t\t\t\tstrokeWidth: '1',\r\n\t\t\t\t\t\t\tstrokeDasharray: 'none',\r\n\t\t\t\t\t\t\tstrokeLinecap: 'butt',\r\n\t\t\t\t\t\t\tstrokeDashoffset: '0',\r\n\t\t\t\t\t\t\tstrokeLinejoin: 'miter',\r\n\t\t\t\t\t\t\tstrokeMiterlimit: 4,\r\n\t\t\t\t\t\t\tfillRule: 'nonzero',\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tfill: 'rgb(255,255,255)'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttransform=\" translate(-24, -24)\" d=\"M 40 45 L 8 45 L 8 3 L 30 3 L 40 13 z\"\r\n\t\t\t\t\t\t\tstrokeLinecap=\"round\" />\r\n\t\t\t\t\t</g>\r\n\t\t\t\t\t<g transform=\"matrix(1 0 0 1 9.75 -14.75)\"  >\r\n\t\t\t\t\t\t<path style={{\r\n\t\t\t\t\t\t\tstroke: 'none',\r\n\t\t\t\t\t\t\tstrokeWidth: '1',\r\n\t\t\t\t\t\t\tstrokeDasharray: 'none',\r\n\t\t\t\t\t\t\tstrokeLinecap: 'butt',\r\n\t\t\t\t\t\t\tstrokeDashoffset: '0',\r\n\t\t\t\t\t\t\tstrokeLinejoin: 'miter',\r\n\t\t\t\t\t\t\tstrokeMiterlimit: 4,\r\n\t\t\t\t\t\t\tfillRule: 'nonzero',\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tfill: 'rgb(211,211,211)'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttransform=\" translate(-33.75, -9.25)\" d=\"M 38.5 14 L 29 14 L 29 4.5 z\"\r\n\t\t\t\t\t\t\tstrokeLinecap=\"round\" />\r\n\t\t\t\t\t</g>\r\n\t\t\t\t\t<g transform=\"matrix(1 0 0 1 0.5 4)\"  >\r\n\t\t\t\t\t\t<path style={{\r\n\t\t\t\t\t\t\tstroke: 'none',\r\n\t\t\t\t\t\t\tstrokeWidth: '1',\r\n\t\t\t\t\t\t\tstrokeDasharray: 'none',\r\n\t\t\t\t\t\t\tstrokeLinecap: 'butt',\r\n\t\t\t\t\t\t\tstrokeDashoffset: '0',\r\n\t\t\t\t\t\t\tstrokeLinejoin: 'miter',\r\n\t\t\t\t\t\t\tstrokeMiterlimit: 4,\r\n\t\t\t\t\t\t\tfillRule: 'nonzero',\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tfill: 'rgb(0,0,0)'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttransform=\" translate(-24.5, -28)\" d=\"M 16 21 H 33 V 23 H 16 z M 16 25 H 29 V 27 H 16 z M 16 29 H 33 V 31 H 16 z M 16 33 H 29 V 35 H 16 z\"\r\n\t\t\t\t\t\t\tstrokeLinecap=\"round\" />\r\n\t\t\t\t\t</g>\r\n\t\t\t\t</g>\r\n\t\t\t</g>\r\n\t\t\t<g transform=\"matrix(1 0 0 1 -75 -88)\"  >\r\n\t\t\t\t<g/>\r\n\t\t\t</g>\r\n\t\t\t<g transform=\"matrix(1 0 0 1 -75 -88)\"  >\r\n\t\t\t\t<g/>\r\n\t\t\t</g>\r\n\t\t\t<g transform=\"matrix(1 0 0 1 -75 -88)\"  >\r\n\t\t\t\t<g/>\r\n\t\t\t</g>\r\n\t\t\t<g transform=\"matrix(1 0 0 1 -75 -88)\"  >\r\n\t\t\t\t<g/>\r\n\t\t\t</g>\r\n\t\t\t<g transform=\"matrix(0.22 0 0 0.22 21.11 218.52)\"  >\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<g transform=\"matrix(1 0 0 1 37.58 -35.42)\" id=\"Capa_1\"  >\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tstroke: 'none',\r\n\t\t\t\t\t\t\t\tstrokeWidth: '1',\r\n\t\t\t\t\t\t\t\tstrokeDasharray: 'none',\r\n\t\t\t\t\t\t\t\tstrokeLinecap: 'butt',\r\n\t\t\t\t\t\t\t\tstrokeDashoffset: '0',\r\n\t\t\t\t\t\t\t\tstrokeLinejoin: 'miter',\r\n\t\t\t\t\t\t\t\tstrokeMiterlimit: 4,\r\n\t\t\t\t\t\t\t\tfillRule: 'nonzero',\r\n\t\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\t\tfill: 'rgb(0,0,0)'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttransform=\" translate(-134.99, -61.99)\"\r\n\t\t\t\t\t\t\td=\"M 185.818 2.161 h -57.04 c -4.971 0 -9 4.029 -9 9 s 4.029 9 9 9 h 35.312 l -86.3 86.3 c -3.515 3.515 -3.515 9.213 0 12.728 c 1.758 1.757 4.061 2.636 6.364 2.636 s 4.606 -0.879 6.364 -2.636 l 86.3 -86.3 v 35.313 c 0 4.971 4.029 9 9 9 s 9 -4.029 9 -9 v -57.04 C 194.818 6.19 190.789 2.161 185.818 2.161 z\"\r\n\t\t\t\t\t\t\tstrokeLinecap=\"round\" />\r\n\t\t\t\t\t</g>\r\n\t\t\t\t\t<g transform=\"matrix(1 0 0 1 -18.41 16.25)\" id=\"Capa_1\"  >\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tstroke: 'none',\r\n\t\t\t\t\t\t\t\tstrokeWidth: '1',\r\n\t\t\t\t\t\t\t\tstrokeDasharray: 'none',\r\n\t\t\t\t\t\t\t\tstrokeLinecap: 'butt',\r\n\t\t\t\t\t\t\t\tstrokeDashoffset: '0',\r\n\t\t\t\t\t\t\t\tstrokeLinejoin: 'miter',\r\n\t\t\t\t\t\t\t\tstrokeMiterlimit: 4,\r\n\t\t\t\t\t\t\t\tfillRule: 'nonzero',\r\n\t\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\t\tfill: 'rgb(0,0,0)'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ttransform=\" translate(-79, -113.66)\"\r\n\t\t\t\t\t\t\td=\"M 149 77.201 c -4.971 0 -9 4.029 -9 9 v 88.456 H 18 v -122 h 93.778 c 4.971 0 9 -4.029 9 -9 s -4.029 -9 -9 -9 H 9 c -4.971 0 -9 4.029 -9 9 v 140 c 0 4.971 4.029 9 9 9 h 140 c 4.971 0 9 -4.029 9 -9 V 86.201 C 158 81.23 153.971 77.201 149 77.201 z\"\r\n\t\t\t\t\t\t\tstrokeLinecap=\"round\" />\r\n\t\t\t\t\t</g>\r\n\t\t\t\t</g>\r\n\t\t\t</g>\r\n\t\t</svg>)\r\n}\r\n\r\nexport default FileShortcutIcon","import DirectoryIcon from '../../../assets/icons/directoryIcon'\r\nimport DirectoryShortcutIcon from '../../../assets/icons/directoryShortcutIcon'\r\nimport FileIcon from '../../../assets/icons/fileIcon'\r\nimport FileShortcutIcon from '../../../assets/icons/fileShortcutIcon'\r\nimport { OSItemType } from \"../../enums\"\r\n\r\nexport const getDisplayIcon = (type: OSItemType, width: number = 48, height: number = 48) => {\r\n    var props = { width: width, height: height }\r\n    switch (type) {\r\n        case OSItemType.Directory:\r\n            return <DirectoryIcon {...props} />\r\n        case OSItemType.DirectoryShortcut:\r\n            return <DirectoryShortcutIcon {...props} />\r\n        case OSItemType.File:\r\n            return <FileIcon {...props} />\r\n        case OSItemType.FileShortcut:\r\n            return <FileShortcutIcon {...props} />\r\n        default:\r\n            return <FileIcon {...props} />\r\n    }\r\n}\r\n\r\nexport const getDisplayName = (type: OSItemType, name: string | undefined, extension: string | undefined) => {\r\n    var newName = `${name ? name : \"\"}${extension ? extension : \"\"}`\r\n\r\n    switch (type) {\r\n        case OSItemType.DirectoryShortcut:\r\n        case OSItemType.FileShortcut:\r\n            newName += ` (Shortcut)`\r\n    }\r\n\r\n    return newName\r\n}","import React from 'react'\r\nimport { OSItemType } from '../../../../../../global/enums'\r\nimport { getDisplayIcon, getDisplayName } from '../../../../../../global/utils/helpers/displayHelper'\r\nimport './styles.scss'\r\n\r\ninterface IDirectoryContainerRowProps {\r\n    name: string\r\n    extension?: string\r\n    displayName?: string\r\n    type: OSItemType\r\n    onDoubleClick: () => void\r\n}\r\n\r\nconst DirectoryContainerRow = (rowProps: IDirectoryContainerRowProps): JSX.Element => {\r\n    const {\r\n        name,\r\n        extension,\r\n        displayName,\r\n        type,\r\n        onDoubleClick\r\n    } = rowProps\r\n\r\n    return (<div onDoubleClick={onDoubleClick} className=\"row-container-row\">\r\n        <div className=\"row-icon-container\">{getDisplayIcon(type, 24, 24)}</div>\r\n        <div className=\"row-name-container\">{getDisplayName(type, displayName ? displayName : name, extension)}</div>\r\n    </div>)\r\n}\r\n\r\nexport default DirectoryContainerRow","import React from 'react'\r\nimport { OSItemType } from '../../../../../global/enums'\r\nimport { IHydratedDirectory } from '../../../../../global/interfaces'\r\nimport DirectoryContainerRow from './directoryContainerRow/directoryContainerRow'\r\nimport './styles.scss'\r\n\r\ninterface IDirectoryContainerProps {\r\n    dir: IHydratedDirectory | undefined\r\n    getHydratedDirectory: (id: string, driveId: string | undefined) => IHydratedDirectory | undefined\r\n    setCurrentDirectory: (dir: IHydratedDirectory | undefined) => void\r\n    onFileDoubleClicked: (id: string, driveId: string | undefined) => void\r\n}\r\n\r\nconst DirectoryContainer = (props: IDirectoryContainerProps) => {\r\n    const {\r\n        dir,\r\n        getHydratedDirectory,\r\n        setCurrentDirectory,\r\n        onFileDoubleClicked\r\n    } = props\r\n\r\n    return (dir ?\r\n        <div className=\"directory-container\">\r\n            {dir.location?.parentId && <DirectoryContainerRow key=\"up-level-row\" displayName=\"...\" {...dir} onDoubleClick={() => setCurrentDirectory(getHydratedDirectory(dir.location!.parentId!, dir.driveId))} />}\r\n            {dir.directories.filter(d => d).map(d => <DirectoryContainerRow key={d!.id} {...d!} onDoubleClick={() => setCurrentDirectory(getHydratedDirectory(d!.id, dir.driveId))} />)}\r\n            {dir.files.filter(f => f).map(f => <DirectoryContainerRow key={f!.id} {...f!} onDoubleClick={() => onFileDoubleClicked(f!.id, f!.driveId)} />)}\r\n            {dir.shortcuts.filter(s => s).map(s =>\r\n                (<DirectoryContainerRow\r\n                        {...s!}\r\n                        key={s!.id}\r\n                        onDoubleClick={() => {\r\n                            s!.type === OSItemType.DirectoryShortcut\r\n                                ? setCurrentDirectory(getHydratedDirectory(s!.link, dir.driveId))\r\n                                : onFileDoubleClicked(s!.link, s!.driveId)\r\n                        }}\r\n                />))\r\n            }\r\n        </div> : null)\r\n}\r\n\r\nexport default DirectoryContainer","import React, { useEffect, useState } from 'react'\r\nimport { IHydratedDirectory } from '../../../global/interfaces'\r\nimport DirectoryContainer from './components/directoryContainer/directoryContainer'\r\nimport './styles.scss'\r\n\r\ninterface IFileBrowserProps {\r\n    dir: IHydratedDirectory\r\n    getHydratedDirectory: (id: string, driveId: string | undefined) => IHydratedDirectory | undefined\r\n    onFileDoubleClicked: (id: string, driveId: string | undefined) => void\r\n}\r\n\r\nconst FileBrowser = (props: IFileBrowserProps) => {\r\n    const {\r\n        dir,\r\n        getHydratedDirectory,\r\n        onFileDoubleClicked\r\n    } = props\r\n\r\n    const [currentPath, setCurrentPath] = useState('')\r\n    const [currentDirectory, setCurrentDirectory] = useState<IHydratedDirectory | undefined>(dir)\r\n\r\n    useEffect(() => {\r\n        var absPath: string = ''\r\n\r\n        if (currentDirectory) {\r\n            absPath = currentDirectory.name\r\n            if (currentDirectory.location) {\r\n                var parentId: string | undefined = currentDirectory.location.parentId\r\n                while (parentId) {\r\n                    var parentDir = getHydratedDirectory(parentId, currentDirectory.driveId)\r\n                    if (parentDir) {\r\n                        absPath = `${parentDir.name}\\\\${absPath}`\r\n                        parentId = parentDir.location?.parentId\r\n                    } else {\r\n                        parentId = undefined\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        setCurrentPath(absPath)\r\n    }, [currentDirectory, getHydratedDirectory])\r\n\r\n    return (\r\n        <div className=\"file-browser\">\r\n            <input readOnly className=\"path-input\" value={currentPath} />\r\n            <DirectoryContainer\r\n                dir={currentDirectory}\r\n                getHydratedDirectory={getHydratedDirectory}\r\n                setCurrentDirectory={setCurrentDirectory}\r\n                onFileDoubleClicked={onFileDoubleClicked} />\r\n        </div>)\r\n}\r\n\r\nexport default FileBrowser","import { getDocument, GlobalWorkerOptions } from 'pdfjs-dist';\r\nimport React, { memo, useEffect, useState } from 'react';\r\nimport './styles.scss';\r\n\r\ninterface IPDFViewerProps {\r\n    uri: string\r\n}\r\n\r\n//Credit to Mozilla and this tutorial:\r\n//https://code.tutsplus.com/tutorials/how-to-create-a-pdf-viewer-in-javascript--cms-32505\r\n\r\nconst PDFViewer = (props: IPDFViewerProps) => {\r\n    const { uri } = props\r\n    const [pageNumber, setPageNumber] = useState<number>(1)\r\n    const [pdf, setPdf] = useState(null)\r\n    const [maxPages, setMaxPages] = useState(1)\r\n\r\n    const getPageAndRender = (pdfPageNumber: number, pdfFile: any) =>\r\n        pdfFile.getPage(pdfPageNumber).then((fetchedPage: any) => {\r\n            setPageNumber(pdfPageNumber)\r\n            render(fetchedPage)\r\n        })\r\n\r\n    useEffect(() => {\r\n        GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.8.335/pdf.worker.min.js`;\r\n        getDocument(uri).promise.then((fetchedPdf: any) => {\r\n            setMaxPages(fetchedPdf._pdfInfo.numPages)\r\n            setPdf(fetchedPdf)\r\n            fetchedPdf.getPage(1).then((fetchedPage: any) => render(fetchedPage))\r\n        });\r\n    }, [uri])\r\n\r\n    const render = (pageToRender: any) => {\r\n        var canvas = document.getElementById(\"pdf-renderer\") as HTMLCanvasElement;\r\n        if (canvas && pageToRender) {\r\n            var ctx = canvas.getContext('2d')\r\n            var viewport = pageToRender.getViewport({ scale: 1 })\r\n\r\n            canvas.width = viewport.width\r\n            canvas.height = viewport.height\r\n\r\n            pageToRender.render({\r\n                canvasContext: ctx,\r\n                viewport: viewport\r\n            })\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div id=\"pdf-viewer\">\r\n            <div id=\"canvas-container\">\r\n                <canvas id=\"pdf-renderer\" />\r\n            </div>\r\n            <div id=\"pdf-viewer-footer\">\r\n                <div id=\"navigation-controls\">\r\n                    <button id=\"go-previous\" disabled={pageNumber - 1 < 1} onClick={() => getPageAndRender(pageNumber - 1, pdf)}>Previous</button>\r\n                    <button id=\"go-next\" disabled={pageNumber + 1 > maxPages} onClick={() => getPageAndRender(pageNumber + 1, pdf)}>Next</button>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default memo(PDFViewer)","import axios from 'axios'\r\nimport React, { memo, useEffect, useState } from 'react'\r\nimport './styles.scss'\r\n\r\ninterface IWebBrowserProps {\r\n    url: string\r\n}\r\n\r\nconst WebBrowser = (props: IWebBrowserProps) => {\r\n    const { url } = props\r\n    const [body, setBody] = useState<string>('')\r\n\r\n    const cancelTokenSource = axios.CancelToken.source();\r\n    const proxyUrl = `https://api.allorigins.win/get?url=${url}`\r\n\r\n    useEffect(() => {\r\n        axios.get(proxyUrl, { cancelToken: cancelTokenSource.token }).then(res => {\r\n            setBody(res.data.contents)\r\n        })\r\n\r\n        return () => cancelTokenSource.cancel()\r\n    }, [cancelTokenSource, proxyUrl])\r\n\r\n    return (\r\n        <>\r\n            <input readOnly className=\"url-bar\" value={url} />\r\n            <div dangerouslySetInnerHTML={{ __html: body }} className=\"web-browser\" />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(WebBrowser)","import DirectoryIcon from '../../../../assets/icons/directoryIcon'\r\nimport FileBrowser from '../../../../system/apps/fileBrowser/fileBrowser'\r\nimport PDFViewer from \"../../../../system/apps/pdfViewer/pdfViewer\"\r\nimport WebBrowser from '../../../../system/apps/webBrowser/webBrowser'\r\nimport { WindowState, WindowType } from \"../../../enums\"\r\nimport { IApplicationHandler, IFile, IHydratedDirectory, IPDFFileContents, IUrlFileContents, IWindow } from \"../../../interfaces\"\r\n\r\nclass ApplicationHandler implements IApplicationHandler {\r\n    invoke = (file: IFile | undefined): IWindow | null => {\r\n        if (!file || !file.extension) {\r\n            return null\r\n        }\r\n\r\n        var win: IWindow | null = null\r\n\r\n        switch (file.extension.toUpperCase()) {\r\n            case '.PDF':\r\n                win = this.getNewPDFWindow(file)\r\n                break\r\n            case '.URL':\r\n                win = this.getNewWebBrowserWindow(file)\r\n                break\r\n        }\r\n\r\n        return win\r\n    }\r\n\r\n    invokeDirectoryHandler = (\r\n        hydratedDirectory: IHydratedDirectory | undefined,\r\n        getHydratedDirectory: (id: string, driveId: string | undefined) => IHydratedDirectory | undefined,\r\n        onFileDoubleClicked: (id: string, driveId: string | undefined) => void): IWindow | null => {\r\n\r\n        if (!hydratedDirectory) {\r\n            return null\r\n        }\r\n\r\n        const elem = <FileBrowser dir={hydratedDirectory} getHydratedDirectory={getHydratedDirectory} onFileDoubleClicked={onFileDoubleClicked}/>\r\n\r\n        return {\r\n            id: 'window-temp',\r\n            name: \"File Browser\",\r\n            state: WindowState.Normal,\r\n            element: elem,\r\n            selected: true,\r\n            size: { width: 500, height: 500 },\r\n            position: { x: 0, y: 0 },\r\n            type: WindowType.Directory,\r\n            icon: <DirectoryIcon />\r\n        }\r\n    }\r\n\r\n    getNewPDFWindow = (file: IFile): IWindow | null => {\r\n        const contents = file.contents as IPDFFileContents\r\n        if (contents) {\r\n            const elem = <PDFViewer uri={contents.uri}/>\r\n            return {\r\n                ...file.windowParams,\r\n                id: 'window-temp',\r\n                name: `${file.name}${file.extension}`,\r\n                state: WindowState.Normal,\r\n                element: elem,\r\n                selected: true,\r\n                position: { x: 0, y: 0 },\r\n                type: WindowType.File\r\n            }\r\n        }\r\n\r\n        return null\r\n    }\r\n\r\n    getNewWebBrowserWindow = (file: IFile): IWindow | null => {\r\n        const contents = file.contents as IUrlFileContents\r\n        if (contents) {\r\n            const elem = <WebBrowser url={contents.url} />\r\n            return {\r\n                ...file.windowParams,\r\n                id: 'window-temp',\r\n                name: `${file.name}${file.extension}`,\r\n                state: WindowState.Normal,\r\n                element: elem,\r\n                selected: true,\r\n                position: { x: 0, y: 0 },\r\n                type: WindowType.File\r\n            }\r\n        }\r\n        return null\r\n    }\r\n}\r\n\r\nexport default ApplicationHandler","export const MARGIN_RIGHT = 10\r\nexport const MARGIN_LEFT = 10\r\nexport const MARGIN_BOTTOM = 30\r\nexport const DESKTOP_ICON_WIDTH = 58\r\nexport const DESKTOP_ICON_HEIGHT = 90\r\nexport const DESKTOP_ICON_PADDING_LEFT = 10\r\nexport const MOBILE_BREAKPOINT = 768\r\n\r\nexport const URLS = {\r\n    gitHub: 'https://github.com/OliverMBathurst',\r\n    linkedIn: 'https://www.linkedin.com/in/oliverbathurst',\r\n    cv: 'https://raw.githubusercontent.com/OliverMBathurst/Curriculum-Vitae/master/Oliver%20Bathurst%20CV.pdf'\r\n}","import { MOBILE_BREAKPOINT } from \"../../constants\"\r\n\r\nexport const isMobileView = () => window.innerWidth <= MOBILE_BREAKPOINT","import React from 'react'\r\n\r\nconst InternetIcon = () => {\r\n\treturn (\r\n\t\t<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t\t\tviewBox=\"0 0 479.447 479.447\" fill=\"#FFFFFF\" xmlSpace=\"preserve\">\r\n\t\t\t<g>\r\n\t\t\t\t<g>\r\n\t\t\t\t\t<path d=\"M239.446,0.022c-8.594,0-17.182,0.462-25.727,1.383c-7.832,0.8-15.568,2.112-23.2,3.704\r\n\t\t\tc-1.477,0.309-2.955,0.635-4.432,0.976C141.12,16.323,100.06,39.314,67.831,72.301c-2.997,3.072-5.931,6.235-8.8,9.488\r\n\t\t\tc-87.06,99.948-76.612,251.548,23.337,338.608c95.688,83.349,239.723,77.803,328.719-12.656c3.003-3.072,5.936-6.235,8.8-9.488\r\n\t\t\tc38.421-43.754,59.594-100.003,59.56-158.232C479.447,107.472,371.995,0.021,239.446,0.022z M78.495,84.301\r\n\t\t\tc1.264-1.312,2.576-2.568,3.864-3.84c1.488-1.464,2.968-2.936,4.488-4.352c1.336-1.248,2.712-2.448,4.08-3.664\r\n\t\t\tc1.544-1.368,3.08-2.736,4.664-4.056c1.392-1.176,2.824-2.304,4.248-3.44c1.6-1.28,3.2-2.56,4.848-3.792\r\n\t\t\tc1.456-1.096,2.936-2.16,4.424-3.2c1.656-1.184,3.32-2.4,5.008-3.504c1.512-1.024,3.04-2.016,4.576-3\r\n\t\t\tc1.712-1.096,3.432-2.176,5.168-3.2c1.563-0.933,3.136-1.851,4.72-2.752c1.771-1.008,3.549-1.992,5.336-2.952\r\n\t\t\tc1.6-0.853,3.2-1.688,4.8-2.504c1.824-0.92,3.664-1.808,5.512-2.68c1.6-0.76,3.264-1.52,4.912-2.24c1.88-0.8,3.784-1.6,5.688-2.4\r\n\t\t\tc1.656-0.68,3.304-1.344,4.976-1.984c1.936-0.736,3.896-1.424,5.856-2.112c1.672-0.584,3.344-1.168,5.04-1.72\r\n\t\t\tc1.992-0.64,4-1.232,6.016-1.816c1.688-0.488,3.36-0.992,5.056-1.448c0.648-0.168,1.296-0.304,1.944-0.472\r\n\t\t\tc-23.68,22.993-41.253,51.529-51.128,83.024c-18.988-5.008-37.37-12.082-54.816-21.096C78.039,84.821,78.263,84.541,78.495,84.301\r\n\t\t\tz M66.991,97.181c19.217,10.412,39.595,18.522,60.712,24.16c-10.352,35.996-15.786,73.227-16.152,110.68h-95.92\r\n\t\t\tC17.374,182.632,35.435,135.214,66.991,97.181z M66.991,382.861c-31.554-38.034-49.615-85.452-51.36-134.84h95.92\r\n\t\t\tc0.366,37.453,5.799,74.684,16.152,110.68C106.587,364.341,86.209,372.45,66.991,382.861z M181.727,456.429\r\n\t\t\tc-1.616-0.408-3.288-0.936-4.952-1.424c-2.024-0.592-4.056-1.184-6.056-1.832c-1.688-0.544-3.352-1.128-5.016-1.712\r\n\t\t\tc-1.968-0.68-3.936-1.376-5.88-2.12c-1.664-0.632-3.304-1.296-4.952-1.968c-1.912-0.8-3.824-1.6-5.72-2.4\r\n\t\t\tc-1.632-0.72-3.256-1.461-4.872-2.224c-1.864-0.88-3.72-1.776-5.6-2.704c-1.6-0.8-3.2-1.6-4.8-2.472\r\n\t\t\tc-1.808-0.968-3.6-1.96-5.392-2.984c-1.6-0.888-3.12-1.8-4.664-2.728c-1.76-1.056-3.488-2.144-5.216-3.256\r\n\t\t\tc-1.52-0.968-3.04-1.952-4.536-2.96c-1.704-1.152-3.392-2.352-5.064-3.552c-1.464-1.048-2.928-2.096-4.368-3.2\r\n\t\t\tc-1.656-1.248-3.28-2.536-4.896-3.832c-1.416-1.128-2.824-2.248-4.208-3.408c-1.6-1.328-3.144-2.712-4.696-4.088\r\n\t\t\tc-1.36-1.208-2.728-2.4-4.056-3.632c-1.528-1.424-3.008-2.904-4.496-4.368c-1.288-1.272-2.6-2.528-3.864-3.832\r\n\t\t\tc-0.232-0.248-0.456-0.504-0.688-0.744c17.445-9.018,35.827-16.095,54.816-21.104c9.877,31.494,27.449,60.029,51.128,83.024\r\n\t\t\tC183.031,456.741,182.375,456.605,181.727,456.429z M231.447,463.389c-34.232-4.864-64.24-40.592-83.12-93.352\r\n\t\t\tc27.296-6.112,55.151-9.391,83.12-9.784V463.389z M231.447,344.253c-29.67,0.39-59.215,3.914-88.144,10.512\r\n\t\t\tc-10.045-34.707-15.344-70.615-15.752-106.744h103.896V344.253z M231.447,232.021H127.551\r\n\t\t\tc0.407-36.129,5.706-72.037,15.752-106.744c28.929,6.597,58.475,10.121,88.144,10.512V232.021z M231.447,119.789\r\n\t\t\tc-27.97-0.39-55.824-3.669-83.12-9.784c18.88-52.76,48.888-88.488,83.12-93.352V119.789z M411.903,97.181\r\n\t\t\tc31.554,38.034,49.615,85.452,51.36,134.84h-95.92c-0.366-37.453-5.799-74.684-16.152-110.68\r\n\t\t\tC372.307,115.7,392.685,107.591,411.903,97.181z M297.103,23.605c1.68,0.416,3.352,0.944,5.016,1.432\r\n\t\t\tc2.024,0.592,4.056,1.184,6.056,1.832c1.688,0.544,3.352,1.128,5.016,1.712c1.968,0.68,3.936,1.376,5.88,2.12\r\n\t\t\tc1.664,0.632,3.304,1.296,4.952,1.968c1.912,0.8,3.824,1.6,5.72,2.4c1.632,0.72,3.256,1.461,4.872,2.224\r\n\t\t\tc1.864,0.88,3.72,1.776,5.6,2.704c1.6,0.8,3.2,1.6,4.8,2.472c1.808,0.968,3.6,1.96,5.392,2.984c1.6,0.888,3.12,1.8,4.664,2.728\r\n\t\t\tc1.76,1.056,3.488,2.144,5.216,3.256c1.52,0.968,3.04,1.952,4.536,2.96c1.704,1.152,3.384,2.344,5.056,3.544\r\n\t\t\tc1.472,1.048,2.936,2.104,4.384,3.2c1.648,1.24,3.264,2.528,4.888,3.824c1.408,1.12,2.824,2.24,4.208,3.408\r\n\t\t\tc1.6,1.328,3.144,2.712,4.696,4.088c1.36,1.208,2.728,2.4,4.056,3.632c1.528,1.424,3.008,2.904,4.496,4.368\r\n\t\t\tc1.288,1.272,2.6,2.528,3.864,3.832c0.232,0.248,0.456,0.504,0.688,0.744c-17.445,9.018-35.827,16.095-54.816,21.104\r\n\t\t\tc-9.896-31.498-27.491-60.031-51.192-83.016C295.799,23.293,296.455,23.429,297.103,23.605z M247.447,16.653\r\n\t\t\tc34.232,4.864,64.24,40.592,83.12,93.352c-27.296,6.112-55.151,9.391-83.12,9.784V16.653z M247.447,135.789\r\n\t\t\tc29.67-0.39,59.215-3.914,88.144-10.512c10.045,34.707,15.344,70.615,15.752,106.744H247.447V135.789z M247.447,248.021h103.896\r\n\t\t\tc-0.407,36.129-5.706,72.037-15.752,106.744h0c-28.929-6.597-58.474-10.121-88.144-10.512V248.021z M247.447,463.389V360.253\r\n\t\t\tc27.97,0.39,55.824,3.669,83.12,9.784C311.687,422.797,281.679,458.525,247.447,463.389z M400.399,395.741\r\n\t\t\tc-1.264,1.304-2.568,2.56-3.856,3.832c-1.488,1.464-2.976,2.944-4.504,4.368c-1.328,1.24-2.696,2.4-4.056,3.64\r\n\t\t\tc-1.552,1.376-3.096,2.752-4.68,4.08c-1.4,1.168-2.824,2.296-4.248,3.432c-1.6,1.28-3.2,2.56-4.848,3.792\r\n\t\t\tc-1.456,1.096-2.936,2.16-4.424,3.2c-1.656,1.184-3.32,2.4-5.008,3.504c-1.512,1.024-3.04,2.016-4.576,2.992\r\n\t\t\tc-1.712,1.104-3.437,2.171-5.176,3.2c-1.6,0.936-3.128,1.848-4.704,2.752c-1.771,1.008-3.552,1.992-5.344,2.952\r\n\t\t\tc-1.6,0.853-3.2,1.688-4.8,2.504c-1.824,0.92-3.664,1.808-5.512,2.68c-1.6,0.76-3.264,1.52-4.912,2.24\r\n\t\t\tc-1.88,0.8-3.784,1.6-5.688,2.4c-1.656,0.672-3.304,1.344-4.968,1.976c-1.952,0.744-3.912,1.44-5.88,2.12\r\n\t\t\tc-1.664,0.584-3.328,1.168-5.016,1.712c-2,0.648-4,1.24-6.04,1.824c-1.672,0.496-3.352,0.992-5.04,1.448\r\n\t\t\tc-0.648,0.168-1.296,0.304-1.944,0.472c23.68-22.993,41.253-51.529,51.128-83.024c18.988,5.008,37.37,12.082,54.816,21.096\r\n\t\t\tC400.855,395.221,400.631,395.501,400.399,395.741z M411.903,382.861c-19.217-10.412-39.595-18.522-60.712-24.16\r\n\t\t\tc10.352-35.996,15.786-73.227,16.152-110.68h95.92C461.521,297.409,443.459,344.828,411.903,382.861z\"/>\r\n\t\t\t\t</g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t\t<g>\r\n\t\t\t</g>\r\n\t\t</svg>)\r\n}\r\n\r\nexport default InternetIcon","import { OSItemType } from \"../../../../../enums\";\r\nimport { IDrive, IDriveItem, IFile, IShortcut, IVirtualDirectory } from \"../../../../../interfaces\";\r\n\r\nclass Drive implements IDrive {\r\n    id: string\r\n    letter: string\r\n    primary: boolean\r\n    type: OSItemType = OSItemType.Drive\r\n    fileRepository: Map<string, IFile> = new Map()\r\n    virtualDirectoryRepository: Map<string, IVirtualDirectory> = new Map()\r\n    shortcutRepository: Map<string, IShortcut> = new Map()\r\n\r\n    constructor(id: string, letter: string, primary: boolean) {\r\n        this.id = id\r\n        this.letter = letter\r\n        this.primary = primary\r\n    }\r\n\r\n    addOrUpdateFile = (file: IFile) => this.fileRepository.set(file.id, file)\r\n\r\n    addOrUpdateDirectory = (virtualDirectory: IVirtualDirectory) => this.virtualDirectoryRepository.set(virtualDirectory.id, virtualDirectory)\r\n\r\n    addOrUpdateShortcut = (shortcut: IShortcut) => this.shortcutRepository.set(shortcut.id, shortcut)\r\n\r\n    addOrUpdateFiles = (files: IFile[]) => {\r\n        this.setDriveIdOnItems(files)\r\n        for (var file of files) {\r\n            this.fileRepository.set(file.id, file)\r\n        }\r\n    }\r\n\r\n    addOrUpdateDirectories = (virtualDirectories: IVirtualDirectory[]) => {\r\n        this.setDriveIdOnItems(virtualDirectories)\r\n        for (var directory of virtualDirectories) {\r\n            this.virtualDirectoryRepository.set(directory.id, directory)\r\n        }\r\n    }\r\n\r\n    addOrUpdateShortcuts = (shortcuts: IShortcut[]) => {\r\n        this.setDriveIdOnItems(shortcuts)\r\n        for (var shortcut of shortcuts) {\r\n            this.shortcutRepository.set(shortcut.id, shortcut)\r\n        }\r\n    }\r\n\r\n    private setDriveIdOnItems = (driveItems: IDriveItem[]) => {\r\n        for (var item of driveItems) {\r\n            item.driveId = this.id\r\n        }\r\n    }\r\n}\r\n\r\nexport default Drive","import { OSItemType } from \"../../../../../enums\"\r\nimport { IFile, IWindowParams } from \"../../../../../interfaces\"\r\n\r\nclass File implements IFile {\r\n    id: string\r\n    name: string\r\n    type: OSItemType = OSItemType.File\r\n    extension: string\r\n    contents: any\r\n    windowParams?: IWindowParams\r\n    reference?: React.RefObject<HTMLDivElement>\r\n\r\n    constructor(\r\n        id: string,\r\n        name: string,\r\n        extension: string,\r\n        contents: any,\r\n        windowParams?: IWindowParams)\r\n    {\r\n        this.id = id\r\n        this.name = name\r\n        this.extension = extension\r\n        this.contents = contents\r\n        this.windowParams = windowParams\r\n    }\r\n}\r\n\r\nexport default File","import { OSItemType } from \"../../../../../enums\";\r\nimport { IHydratedDirectory, IFile, IShortcut, IDirectoryLocationInformation } from \"../../../../../interfaces\";\r\n\r\nclass HydratedDirectory implements IHydratedDirectory {\r\n    id: string\r\n    name: string\r\n    driveId: string\r\n    type: OSItemType = OSItemType.Directory\r\n    files: (IFile | undefined)[]\r\n    directories: (IHydratedDirectory | undefined)[]\r\n    shortcuts: (IShortcut | undefined)[]\r\n    location?: IDirectoryLocationInformation\r\n\r\n    constructor(\r\n        id: string,\r\n        name: string,\r\n        driveId: string,\r\n        files: (IFile | undefined)[],\r\n        directories: (IHydratedDirectory | undefined)[],\r\n        shortcuts: (IShortcut | undefined)[],\r\n        location?: IDirectoryLocationInformation)\r\n    {\r\n        this.id = id\r\n        this.name = name\r\n        this.driveId = driveId\r\n        this.files = files\r\n        this.directories = directories\r\n        this.shortcuts = shortcuts\r\n        this.location = location\r\n    }\r\n}\r\n\r\nexport default HydratedDirectory","import { OSItemType } from \"../../../../../enums\"\r\nimport { ICoordinates, IShortcut } from \"../../../../../interfaces\"\r\n\r\nclass Shortcut implements IShortcut {\r\n    id: string\r\n    name: string\r\n    link: string\r\n    type: OSItemType\r\n    position?: ICoordinates\r\n    icon?: JSX.Element\r\n\r\n    constructor(\r\n        id: string,\r\n        name: string,\r\n        link: string,\r\n        type: OSItemType,\r\n        position?: ICoordinates,\r\n        icon?: JSX.Element)\r\n    {\r\n        this.id = id\r\n        this.name = name\r\n        this.link = link\r\n        this.type = type\r\n        this.position = position\r\n        this.icon = icon\r\n    }\r\n}\r\n\r\nexport default Shortcut","import { OSItemType } from '../../../../../enums'\r\nimport { ICoordinates, IDirectoryLocationInformation, IVirtualDirectory } from '../../../../../interfaces'\r\n\r\nclass VirtualDirectory implements IVirtualDirectory {\r\n    id: string\r\n    name: string\r\n    type: OSItemType = OSItemType.Directory\r\n    files: string[]\r\n    directories: string[]\r\n    shortcuts: string[]\r\n    position?: ICoordinates\r\n    location?: IDirectoryLocationInformation\r\n\r\n    constructor(\r\n        id: string,\r\n        name: string,\r\n        files: string[],\r\n        directories: string[],\r\n        shortcuts: string[],\r\n        position?: ICoordinates,\r\n        location?: IDirectoryLocationInformation)\r\n    {\r\n        this.id = id\r\n        this.name = name\r\n        this.files = files\r\n        this.directories = directories\r\n        this.shortcuts = shortcuts\r\n        this.position = position\r\n        this.location = location\r\n    }\r\n    \r\n\r\n    hasChildren = (): boolean => this.directories.length > 0\r\n}\r\n\r\nexport default VirtualDirectory","import FileIcon from \"../../../../assets/icons/fileIcon\"\r\nimport InternetIcon from \"../../../../assets/icons/internetIcon\"\r\nimport { URLS } from \"../../../constants\"\r\nimport { OSItemType } from \"../../../enums\"\r\nimport { IDrive, IDriveManager, IFile, IHydratedDirectory, IIdHelper, IShortcut, IUrlFileContents, IVirtualDirectory } from \"../../../interfaces\"\r\nimport IdHelper from \"../idHelper/idHelper\"\r\nimport Drive from \"./components/drive/drive\"\r\nimport File from \"./components/file/file\"\r\nimport HydratedDirectory from \"./components/hydratedDirectory/hydratedDirectory\"\r\nimport Shortcut from \"./components/shortcut/shortcut\"\r\nimport VirtualDirectory from \"./components/virtualDirectory/virtualDirectory\"\r\n\r\nconst idHelper: IIdHelper = new IdHelper()\r\n\r\nclass DriveManager implements IDriveManager {\r\n    drives: IDrive[]\r\n\r\n    constructor() {\r\n        /*\r\n        * Create dir structure here\r\n        */\r\n\r\n        const {\r\n            cv: cvUri,\r\n            gitHub: gitHubUri,\r\n            linkedIn: linkedInUri\r\n        } = URLS\r\n\r\n        const driveId = idHelper.getNewDriveId()\r\n\r\n        var drive: IDrive = new Drive(driveId, 'C', true)\r\n\r\n        var cv: IFile = new File(\r\n            idHelper.getNewFileId(driveId),\r\n            'CV',\r\n            '.pdf',\r\n            {\r\n                uri: cvUri\r\n            },\r\n            {\r\n                icon: <FileIcon />\r\n            }\r\n        )\r\n\r\n        var gitHubFileContents: IUrlFileContents = { url: gitHubUri }\r\n        var linkedInFileContents: IUrlFileContents = { url: linkedInUri }\r\n\r\n        var gitHub: IFile = new File(\r\n            idHelper.getNewFileId(driveId),\r\n            'GitHub',\r\n            '.url',\r\n            gitHubFileContents,\r\n            {\r\n                icon: <InternetIcon />\r\n            }\r\n        )\r\n\r\n        var linkedIn: IFile = new File(\r\n            idHelper.getNewFileId(driveId),\r\n            'LinkedIn',\r\n            '.url',\r\n            linkedInFileContents,\r\n            {\r\n                icon: <InternetIcon />\r\n            }\r\n        )\r\n\r\n        var rootDummyFile: IFile = new File(idHelper.getNewFileId(driveId), 'Dummy', '.pdf', '')\r\n\r\n        var rootId = idHelper.getNewDirectoryId(driveId)\r\n\r\n        var shortcut: IShortcut = new Shortcut(idHelper.getNewShortcutId(driveId), 'system', rootId, OSItemType.DirectoryShortcut)\r\n\r\n        var desktopDirectoryId = idHelper.getNewDirectoryId(driveId)\r\n        var projectsDirectory: IVirtualDirectory = new VirtualDirectory(idHelper.getNewDirectoryId(driveId), 'projects', [], [], [], undefined, { root: false, parentId: desktopDirectoryId })\r\n        var desktopDirectory: IVirtualDirectory = new VirtualDirectory(desktopDirectoryId, 'desktop', [cv.id, gitHub.id, linkedIn.id], [projectsDirectory.id], [shortcut.id])\r\n\r\n        projectsDirectory.location = { parentId: desktopDirectory.id }\r\n\r\n        var rootDirectory: IVirtualDirectory = new VirtualDirectory(rootId, 'system', [rootDummyFile.id], [desktopDirectory.id], [])\r\n\r\n        rootDirectory.location = { root: true }\r\n\r\n        desktopDirectory.location = { parentId: rootDirectory.id }\r\n\r\n        globalThis.desktopDirectory = {\r\n            id: desktopDirectoryId,\r\n            driveId: drive.id\r\n        }\r\n\r\n        drive.addOrUpdateFiles([cv, gitHub, linkedIn, rootDummyFile])\r\n        drive.addOrUpdateDirectories([rootDirectory, desktopDirectory, projectsDirectory])\r\n        drive.addOrUpdateShortcuts([shortcut])\r\n\r\n        this.drives = [drive]\r\n    }\r\n\r\n    getPrimaryDrive = (): IDrive | undefined => {\r\n        return this.drives.find(x => x.primary)\r\n    }\r\n\r\n    getAllFiles = (): IFile[] => {\r\n        var files: IFile[] = []\r\n        \r\n        for (var drive of this.drives) {\r\n            files = files.concat(Array.from(drive.fileRepository.values()))\r\n        }\r\n\r\n        return files\r\n    }\r\n\r\n    getHydratedDirectory = (id: string, driveId: string | undefined): IHydratedDirectory | undefined => {\r\n        var drive = this.drives.find(d => d.id === driveId)\r\n\r\n        if (!drive) {\r\n            return undefined\r\n        }\r\n\r\n        var dir = drive.virtualDirectoryRepository.get(id)\r\n        if (!dir) {\r\n            return undefined\r\n        }\r\n\r\n        var files: (IFile | undefined)[] = dir.files.map(f => drive!.fileRepository.get(f))\r\n        var shortcuts: (IShortcut | undefined)[] = dir.shortcuts.map(s => drive!.shortcutRepository.get(s))\r\n        var dirs: (IHydratedDirectory | undefined)[] = dir.directories.map(d => this.getHydratedDirectory(d, driveId))\r\n        \r\n        return new HydratedDirectory(dir.id, dir.name, drive.id, files, dirs, shortcuts, dir.location)\r\n    }\r\n\r\n    getDirectory = (id: string, driveId: string | undefined): IVirtualDirectory | undefined => driveId ? this.drives.find(d => d.id === driveId)?.virtualDirectoryRepository.get(id) : undefined\r\n\r\n    getShortcut = (id: string, driveId: string | undefined): IShortcut | undefined => driveId ? this.drives.find(d => d.id === driveId)?.shortcutRepository.get(id) : undefined\r\n\r\n    getFile = (id: string, driveId: string | undefined): IFile | undefined =>  driveId ? this.drives.find(d => d.id === driveId)?.fileRepository.get(id) : undefined\r\n}\r\n\r\nexport default DriveManager","import { IIdHelper } from \"../../../interfaces\"\r\n\r\nclass IdHelper implements IIdHelper {\r\n    private driveCount: number = 0\r\n    private fileCount: number = 0\r\n    private directoryCount: number = 0\r\n    private shortcutCount: number = 0\r\n\r\n    getNewDriveId = (): string => {\r\n        this.driveCount++\r\n        return `drive-${this.driveCount}`\r\n    }\r\n\r\n    getNewFileId = (driveId: string): string => {\r\n        this.fileCount++\r\n        return `${driveId}-file-${this.fileCount}`\r\n    }\r\n\r\n    getNewDirectoryId = (driveId: string): string => {\r\n        this.directoryCount++\r\n        return `${driveId}-directory-${this.directoryCount}`\r\n    }\r\n\r\n    getNewShortcutId = (driveId: string): string => {\r\n        this.shortcutCount++\r\n        return `${driveId}-shortcut-${this.shortcutCount}`\r\n    }\r\n}\r\n\r\nexport default IdHelper","import { MARGIN_BOTTOM } from \"../../constants\"\r\n\r\nexport const getMaxWindowHeight = (yOffset: number): number => window.innerHeight - yOffset - MARGIN_BOTTOM\r\n\r\nexport const getMaxWindowWidth = (xOffset: number): number => window.innerWidth - xOffset","import { WindowState } from \"../../../enums\"\r\nimport { IDragCompletedEvent, IWindow, IWindowManager, IWindowSize } from \"../../../interfaces\"\r\nimport { getMaxWindowHeight, getMaxWindowWidth } from \"../../helpers/windowHelper\"\r\n\r\nclass WindowManager implements IWindowManager {\r\n    windows: IWindow[] = []\r\n    windowCount: number = 0\r\n\r\n    onWindowStateChanged = (id: string, state: WindowState): IWindow[] => {\r\n        var windowsCopy = [...this.windows]\r\n        var idx = windowsCopy.findIndex(x => x.id === id)\r\n        if (idx !== -1) {\r\n            switch (state) {\r\n                case WindowState.Maximized:\r\n                    windowsCopy[idx].size = { width: getMaxWindowWidth(0), height: getMaxWindowHeight(0) }\r\n                    windowsCopy[idx].position = { x: 0, y: 0 }\r\n                    break\r\n                case WindowState.Closed:\r\n                    windowsCopy.splice(idx, 1)\r\n                    break\r\n                case WindowState.Minimized:\r\n                    windowsCopy[idx].selected = false\r\n                    break\r\n            }\r\n\r\n            if (state !== WindowState.Closed) {\r\n                windowsCopy[idx].state = state\r\n            }            \r\n\r\n            this.windows = windowsCopy\r\n        }\r\n\r\n        return this.windows\r\n    }\r\n\r\n    onWindowSelected = (id: string): IWindow[] => {\r\n        var windowsCopy = [...this.windows]\r\n\r\n        var idx = windowsCopy.findIndex(w => w.id === id)\r\n        if (idx !== -1) {\r\n            for (var win of windowsCopy) {\r\n                win.selected = false\r\n            }\r\n\r\n            windowsCopy[idx].selected = true\r\n            this.windows = windowsCopy\r\n        }\r\n\r\n        return this.windows\r\n    }\r\n\r\n    onWindowPositionChanged = (completedDrags: IDragCompletedEvent[]): IWindow[] => {\r\n        var windowsCopy = [...this.windows]\r\n\r\n        for (const drag of completedDrags) {\r\n            var windowIdx = windowsCopy.findIndex(x => x.id === drag.id)\r\n            if (windowIdx !== -1) {\r\n                windowsCopy[windowIdx].position = drag.position\r\n            }\r\n        }\r\n\r\n        this.windows = windowsCopy\r\n        return this.windows\r\n    }\r\n\r\n    onWindowClicked = (id: string): IWindow[] => {\r\n        var windowsCopy = [...this.windows]\r\n        var idx = windowsCopy.findIndex(x => x.id === id)\r\n        if (idx !== -1) {\r\n            if (!windowsCopy[idx].selected) {\r\n                for (var window of windowsCopy) {\r\n                    window.selected = false\r\n                }\r\n\r\n                windowsCopy[idx].selected = true\r\n                this.windows = windowsCopy\r\n            }\r\n        }\r\n\r\n        return this.windows\r\n    }\r\n\r\n    onTaskbarItemClicked = (id: string) => {\r\n        var windowsCopy = [...this.windows]\r\n        var idx = windowsCopy.findIndex(x => x.id === id)\r\n        if (idx !== -1) {\r\n            var window = windowsCopy[idx]\r\n\r\n            switch (window.state) {\r\n                case WindowState.Minimized:\r\n                    window.state = WindowState.Normal\r\n                    for (var win of windowsCopy) {\r\n                        win.selected = false\r\n                    }\r\n                    window.selected = true\r\n                    break;\r\n                case WindowState.Normal:\r\n                case WindowState.Maximized:\r\n                    window.state = WindowState.Minimized\r\n                    window.selected = false\r\n                    break;\r\n            }\r\n\r\n            windowsCopy[idx] = window\r\n            this.windows = windowsCopy\r\n        }\r\n\r\n        return this.windows\r\n    }\r\n\r\n    onTaskbarItemDoubleClicked = (id: string) => {\r\n        return this.windows\r\n    }\r\n        \r\n\r\n    onWindowSizeChanged = (id: string, size: IWindowSize): IWindow[] => {\r\n        return this.windows\r\n    }\r\n\r\n    addWindow = (window: IWindow): IWindow[] => {\r\n        var windowsCopy = [...this.windows]\r\n\r\n        window.selected = true\r\n        window.id = this.getNewWindowId()\r\n\r\n        for (var win of windowsCopy) {\r\n            win.selected = false\r\n        }\r\n\r\n        windowsCopy.push(window)\r\n        this.windows = windowsCopy\r\n\r\n        return this.windows\r\n    }\r\n\r\n    minimizeAllWindows = (): IWindow[] => {\r\n        var windowsCopy = [...this.windows]\r\n        for (var window of windowsCopy) {\r\n            window.state = WindowState.Minimized\r\n        }\r\n\r\n        this.windows = windowsCopy\r\n        return this.windows\r\n    }\r\n\r\n    private getNewWindowId = () => {\r\n        this.windowCount++\r\n        return `window-${this.windowCount}`\r\n    }\r\n}\r\n\r\nexport default WindowManager","import React from 'react'\r\n\r\nconst PowerIcon = () => {\r\n    //<div>Icons made by <a href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div>\r\n\treturn (\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20pt\" height=\"20pt\" viewBox=\"0 0 20 20\" version=\"1.1\">\r\n\t\t\t<g>\r\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M 9.996094 20 C 5.429688 20 1.71875 16.289062 1.71875 11.722656 C 1.71875 8.007812 4.21875 4.726562 7.800781 3.742188 C 8.167969 3.644531 8.546875 3.859375 8.648438 4.226562 C 8.746094 4.59375 8.53125 4.972656 8.164062 5.074219 C 5.179688 5.890625 3.097656 8.625 3.097656 11.722656 C 3.097656 15.527344 6.191406 18.621094 9.996094 18.621094 C 13.796875 18.621094 16.890625 15.527344 16.890625 11.722656 C 16.890625 8.699219 14.871094 5.980469 11.976562 5.117188 C 11.609375 5.007812 11.402344 4.621094 11.511719 4.257812 C 11.621094 3.894531 12.007812 3.6875 12.371094 3.792969 C 15.84375 4.835938 18.269531 8.09375 18.269531 11.722656 C 18.269531 16.289062 14.558594 20 9.996094 20 Z M 9.996094 20 \" />\r\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M 9.996094 8.964844 C 9.613281 8.964844 9.304688 8.65625 9.304688 8.277344 L 9.304688 0.691406 C 9.304688 0.308594 9.613281 0 9.996094 0 C 10.375 0 10.683594 0.308594 10.683594 0.691406 L 10.683594 8.277344 C 10.683594 8.65625 10.375 8.964844 9.996094 8.964844 Z M 9.996094 8.964844 \" />\r\n\t\t\t</g>\r\n\t\t</svg>)\r\n}\r\n\r\nexport default PowerIcon","import React, { memo } from 'react'\r\nimport FileIcon from '../../../../../assets/icons/fileIcon'\r\nimport { OSItemType } from '../../../../../global/enums'\r\nimport { IFile, IOSItemClickedEvent } from '../../../../../global/interfaces'\r\nimport './styles.scss'\r\n\r\ninterface IStartMenuPaneProps {\r\n    getAllFiles: () => IFile[]\r\n    onStartMenuItemClicked: (event: IOSItemClickedEvent) => void\r\n}\r\n\r\nconst StartMenuPane = (props: IStartMenuPaneProps) => {\r\n    const { getAllFiles, onStartMenuItemClicked } = props\r\n\r\n    const files = getAllFiles()\r\n\r\n    return (\r\n        <div className=\"all-files-pane\">\r\n            <span className=\"all-files-pane-panel-descriptor\">Files</span>\r\n            <div className=\"file-container\">\r\n                {files.map(x => {\r\n                    return (\r\n                        <div key={`start-menu-file-${x.id}`} className=\"start-menu-file-item\" onClick={() => onStartMenuItemClicked({ id: x.id, type: OSItemType.File, driveId: x.driveId })}>\r\n                            <div className=\"start-menu-file-item-container\">\r\n                                <FileIcon width={20} height={20} />\r\n                                <span className=\"start-menu-file-item-name\">{`${x.name}${x.extension}`}</span>\r\n                            </div>\r\n                        </div>)\r\n                })}\r\n            </div>\r\n        </div>)\r\n\r\n}\r\n\r\nexport default memo(StartMenuPane)","import React, { memo } from 'react'\r\nimport { IStartMenuItem } from '../../../../../global/interfaces'\r\nimport './styles.scss'\r\n\r\ninterface IBottomBarProps {\r\n    items: IStartMenuItem[]\r\n}\r\n\r\nconst BottomBar = (props: IBottomBarProps) => {\r\n    const { items } = props\r\n\r\n    return (\r\n        <div className=\"bottom-bar\">\r\n            {items.map((x, i) => {\r\n                return (\r\n                    <div key={`${x.name}-${i}`} className=\"bottom-bar-item\" onClick={x.onClick}>\r\n                        {x.icon}\r\n                    </div>)\r\n            })}\r\n        </div>)\r\n}\r\n\r\nexport default memo(BottomBar)","import React, { useEffect, useRef } from 'react'\r\nimport PowerIcon from '../../../assets/icons/powerIcon'\r\nimport { IFile, IOSItemClickedEvent } from '../../../global/interfaces'\r\nimport StartMenuPane from './components/startMenuPane/startMenuPane'\r\nimport BottomBar from './components/bottomBar/bottomBar'\r\nimport './styles.scss'\r\n\r\ninterface IStartMenuProps {\r\n    onNavigateAway: () => void\r\n    startButtonRef: React.RefObject<HTMLDivElement>\r\n    getAllFiles: () => IFile[]\r\n    onStartMenuItemClicked: (event: IOSItemClickedEvent) => void\r\n    onPowerButtonClicked: () => void\r\n}\r\n\r\nconst StartMenu = (props: IStartMenuProps) => {\r\n    const {\r\n        onNavigateAway,\r\n        startButtonRef,\r\n        getAllFiles,\r\n        onStartMenuItemClicked,\r\n        onPowerButtonClicked\r\n    } = props\r\n\r\n    const menuRef = useRef<HTMLDivElement>(null)\r\n\r\n    const bottomBarItems = [\r\n        {\r\n            name: 'Power',\r\n            onClick: () => onPowerButtonClickedInternal(),\r\n            icon: <PowerIcon />\r\n        }\r\n    ]\r\n\r\n    useEffect(() => {\r\n        const handleMouseDown = (event: MouseEvent) => {\r\n            var target = event.target as HTMLDivElement\r\n            if (menuRef && menuRef.current && !menuRef.current.contains(target)\r\n                && startButtonRef && startButtonRef.current && !startButtonRef.current.contains(target)) {\r\n                onNavigateAway()\r\n            }\r\n        }\r\n\r\n        window.addEventListener(\"mousedown\", handleMouseDown)\r\n\r\n        return () => window.removeEventListener(\"mousedown\", handleMouseDown)\r\n    }, [startButtonRef, onNavigateAway])\r\n\r\n    const onStartMenuItemClickedInternal = (event: IOSItemClickedEvent) => {\r\n        onStartMenuItemClicked(event)\r\n        onNavigateAway()\r\n    }\r\n\r\n    const onPowerButtonClickedInternal = () => {\r\n        onPowerButtonClicked()\r\n        onNavigateAway()\r\n    }\r\n\r\n    return (\r\n        <div className=\"start-menu\" ref={menuRef}>\r\n            <StartMenuPane getAllFiles={getAllFiles} onStartMenuItemClicked={onStartMenuItemClickedInternal}/>\r\n            <BottomBar items={bottomBarItems}/>\r\n        </div>)\r\n}\r\n\r\nexport default StartMenu","import { DESKTOP_ICON_HEIGHT, DESKTOP_ICON_PADDING_LEFT, DESKTOP_ICON_WIDTH } from \"../../constants\"\r\nimport { ICoordinates } from \"../../interfaces\"\r\n\r\nexport const getAvailableGridPositions = (): ICoordinates[] => {\r\n    var availablePositions: ICoordinates[] = []\r\n    var totalY = DESKTOP_ICON_HEIGHT\r\n    var totalX = DESKTOP_ICON_WIDTH + DESKTOP_ICON_PADDING_LEFT\r\n\r\n    var width = Math.floor(window.innerWidth / totalX)\r\n    var height = Math.floor(window.innerHeight / totalY)\r\n\r\n    for (var j = 0; j < width; j++) {\r\n        for (var i = 0; i < height; i++) {\r\n            availablePositions.push({ x: j * totalX, y: i * totalY })\r\n        }\r\n    }\r\n    \r\n    return availablePositions\r\n}","import { ICoordinates } from \"../../interfaces\";\r\nimport { getMaxWindowHeight, getMaxWindowWidth } from \"./windowHelper\";\r\n\r\nexport const isValidPosition = (position: ICoordinates | undefined, width: number, height: number) =>\r\n    position && (position.x + width >= 0 && position.x + width <= getMaxWindowWidth(0))\r\n    && (position.y + height >= 0 && position.y + height <= getMaxWindowHeight(0))","import { ILineCoordinates } from \"../../interfaces\"\r\n\r\nexport const overlap = (line: ILineCoordinates, target: ILineCoordinates): boolean => {\r\n    if (!line || !target) return false\r\n\r\n    var selectionLine = getFormattedLine(line)\r\n    var targetLine = getFormattedLine(target)\r\n\r\n    /// x3y3-------x1y1\r\n    /// |           |\r\n    /// |           |\r\n    /// |           |\r\n    /// |           |\r\n    /// x,y--------x2y2\r\n\r\n\r\n    //if x, y or x1, y1 of target is in selection\r\n    if (targetLine.xy.x >= selectionLine.xy.x && targetLine.xy.x <= selectionLine.x1y1.x\r\n        && targetLine.xy.y >= selectionLine.xy.y && targetLine.xy.y <= selectionLine.x1y1.y) {\r\n        return true\r\n    }\r\n\r\n    if (targetLine.x1y1.x >= selectionLine.xy.x && targetLine.x1y1.x <= selectionLine.x1y1.x\r\n        && targetLine.x1y1.y >= selectionLine.xy.y && targetLine.x1y1.y <= selectionLine.x1y1.y) {\r\n        return true\r\n    }\r\n\r\n    //if x2y2 or x3y3 of selection is in target or bisection occurs horizontally\r\n    if (selectionLine.xy.x >= targetLine.xy.x && selectionLine.xy.x <= targetLine.x1y1.x\r\n        && selectionLine.x1y1.y >= targetLine.xy.y && selectionLine.x1y1.y <= targetLine.x1y1.y) {\r\n        return true\r\n    }\r\n\r\n    if (((selectionLine.x1y1.x >= targetLine.xy.x && selectionLine.x1y1.x <= targetLine.x1y1.x)\r\n        || (selectionLine.xy.x <= targetLine.xy.x && selectionLine.x1y1.x >= targetLine.x1y1.x))\r\n        && selectionLine.xy.y >= targetLine.xy.y && selectionLine.xy.y <= targetLine.x1y1.y) {\r\n        return true\r\n    }\r\n\r\n    //if bisection occurs vertically\r\n    if (selectionLine.xy.x >= targetLine.xy.x && selectionLine.x1y1.x <= targetLine.x1y1.x\r\n        && selectionLine.xy.y <= targetLine.xy.y && selectionLine.x1y1.y >= targetLine.x1y1.y) {\r\n        return true\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nexport const getFormattedLine = (line: ILineCoordinates) => {\r\n    var trueXY = {\r\n        x: line.xy.x < line.x1y1.x ? line.xy.x : line.x1y1.x,\r\n        y: line.xy.y < line.x1y1.y ? line.xy.y : line.x1y1.y\r\n    }\r\n\r\n    var width = Math.abs(line.xy.x - line.x1y1.x)\r\n    var height = Math.abs(line.xy.y - line.x1y1.y)\r\n\r\n    return {\r\n        xy: trueXY,\r\n        x1y1: {\r\n            x: trueXY.x + width,\r\n            y: trueXY.y + height\r\n        }\r\n    }\r\n}","import { MARGIN_BOTTOM } from '../../../constants'\r\nimport { ICoordinates, IDragCompletedEvent, IDragHandler, IDragHandlerOptions, IIdPositionModel, IIdReferenceModel } from '../../../interfaces'\r\n\r\nlet lastClickFire: number = 0\r\n\r\nclass DragHandler implements IDragHandler {\r\n    id: string\r\n    elementRef: React.RefObject<HTMLDivElement> | undefined\r\n    movingRef: React.RefObject<HTMLDivElement> | undefined\r\n    selectedItemsGroup?: IIdReferenceModel[]\r\n    onDragComplete?: (events: IDragCompletedEvent[]) => void\r\n    onDragStarted?: () => void\r\n    onClickOccurred?: (event: MouseEvent) => void\r\n    onDoubleClickOccurred?: () => void\r\n    positions?: IIdPositionModel[]\r\n    dragStartEventFired: boolean = false\r\n    draggingHasStarted: boolean = false\r\n    hasDragged: boolean = false\r\n    offsetX: number = 0\r\n    offsetY: number = 0\r\n    absX: number = 0\r\n    absY: number = 0\r\n    \r\n    constructor(options: IDragHandlerOptions) {\r\n        this.id = options.id\r\n        this.setOptions(options)\r\n        this.setListeners()\r\n    }\r\n\r\n    setListeners = () => {\r\n        if (this.movingRef && this.movingRef.current) {\r\n            this.movingRef.current.addEventListener('mousedown', this.onMouseDown)\r\n        }\r\n\r\n        document.addEventListener('mouseup', this.onMouseUp)\r\n        document.addEventListener('mousemove', this.onMouseMove)\r\n    }\r\n\r\n    setOptions = (options: IDragHandlerOptions) => {\r\n        const {\r\n            id,\r\n            elementRef,\r\n            movingRef,\r\n            selectedItemsGroup,\r\n            onDragComplete,\r\n            onDragStarted,\r\n            onClickOccurred,\r\n            onDoubleClickOccurred,\r\n            position\r\n        } = options\r\n\r\n        this.id = id\r\n        this.elementRef = elementRef ?? movingRef\r\n        this.movingRef = movingRef\r\n        this.selectedItemsGroup = selectedItemsGroup\r\n        this.onDragComplete = onDragComplete\r\n        this.onDragStarted = onDragStarted\r\n        this.onClickOccurred = onClickOccurred\r\n        this.onDoubleClickOccurred = onDoubleClickOccurred\r\n\r\n        if (position) {\r\n            var { x, y } = position\r\n            this.absX = x\r\n            this.absY = y\r\n            this.setPositionByRef(x, y, movingRef)\r\n        }\r\n    }\r\n\r\n    onMouseUp = (event: MouseEvent) => {\r\n        if (this.draggingHasStarted && !this.hasDragged && this.onClickOccurred) {\r\n            this.onClickOccurred(event)\r\n            return\r\n        }\r\n\r\n        if (this.onDragComplete && this.draggingHasStarted) {\r\n            var dragEvent = { id: this.id, position: { x: this.absX, y: this.absY } }\r\n\r\n            var completedDrags: IDragCompletedEvent[] = [dragEvent]\r\n            if (this.selectedItemsGroup && this.positions) {\r\n                for (const selectedItem of this.selectedItemsGroup) {\r\n                    var pos = this.positions.find(x => x.id === selectedItem.id)?.position\r\n                    if (pos) {\r\n                        completedDrags.push({ id: selectedItem.id, position: pos })\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.onDragComplete(completedDrags)\r\n        }\r\n\r\n        this.dragStartEventFired = false\r\n        this.draggingHasStarted = false\r\n    }\r\n\r\n    onMouseDown = (event: MouseEvent) => {\r\n        if (event.button !== 0) return\r\n        event.preventDefault()\r\n\r\n        var seconds = new Date().getTime() / 1000\r\n        var diff = Math.abs(seconds - lastClickFire)\r\n        lastClickFire = seconds\r\n\r\n        if (diff > 0 && diff < 1) {\r\n            if (this.onDoubleClickOccurred) {\r\n                this.onDoubleClickOccurred()\r\n            }\r\n        }\r\n\r\n        if (!this.movingRef) {\r\n            return\r\n        }\r\n\r\n        var rect = this.movingRef.current?.getBoundingClientRect()\r\n        if (!rect) return\r\n\r\n        this.offsetX = event.clientX - rect.left\r\n        this.offsetY = event.clientY - rect.top\r\n\r\n        this.absX = rect.left\r\n        this.absY = rect.top\r\n\r\n        this.draggingHasStarted = true\r\n    }\r\n\r\n    onMouseMove = (event: MouseEvent) => {\r\n        if (!this.elementRef || !this.elementRef.current || !this.draggingHasStarted) return\r\n        event.preventDefault()\r\n\r\n        if (!this.dragStartEventFired && this.onDragStarted) {\r\n            this.onDragStarted()\r\n            this.dragStartEventFired = true\r\n        }\r\n\r\n        var newAbsX = event.clientX - this.offsetX\r\n        var newAbsY = event.clientY - this.offsetY\r\n\r\n        var diffX = newAbsX - this.absX\r\n        var diffY = newAbsY - this.absY\r\n\r\n        var { x, y } = this.getNewCoordinates(newAbsX, newAbsY, this.elementRef, this.movingRef)\r\n\r\n        this.absX = x\r\n        this.absY = y\r\n\r\n        this.setPositionByRef(x, y, this.elementRef)\r\n\r\n        if (this.selectedItemsGroup) {\r\n            this.positions = []\r\n            for (var selectedItem of this.selectedItemsGroup) {\r\n                if (!selectedItem.reference || !selectedItem.reference.current) continue\r\n\r\n                var otherRefRect = selectedItem.reference.current.getBoundingClientRect()\r\n\r\n                var { x: selectedItemX, y: selectedItemY } = this.getNewCoordinates(\r\n                    otherRefRect.left + diffX,\r\n                    otherRefRect.top + diffY,\r\n                    selectedItem.reference)\r\n\r\n                this.setPositionByRef(selectedItemX, selectedItemY, selectedItem.reference)\r\n                this.positions.push({ id: selectedItem.id, position: { x: selectedItemX, y: selectedItemY }})\r\n            }\r\n        }\r\n\r\n        this.hasDragged = true\r\n    }\r\n\r\n    getNewCoordinates = (\r\n        x: number,\r\n        y: number,\r\n        reference: React.RefObject<HTMLDivElement>,\r\n        _movingRef?: React.RefObject<HTMLDivElement>): ICoordinates => {\r\n\r\n        _movingRef = _movingRef ?? reference\r\n\r\n        if (!reference || !reference.current) return { x: x, y: y }\r\n\r\n        if (x < 0) {\r\n            x = 0\r\n        } else if (x + reference.current.clientWidth > window.innerWidth) {\r\n            x = window.innerWidth - reference.current.clientWidth\r\n        }\r\n\r\n        if (!_movingRef || !_movingRef.current) return { x: x, y: y }\r\n\r\n        var rect = _movingRef.current.getBoundingClientRect()\r\n        if (!rect) return { x: x, y: y }\r\n\r\n        if (y < 0) {\r\n            y = 0\r\n        } else if (y + reference.current.clientHeight > window.innerHeight - MARGIN_BOTTOM) {\r\n            y = window.innerHeight - reference.current.clientHeight - MARGIN_BOTTOM\r\n        }\r\n\r\n        return { x: x, y: y }\r\n    }\r\n\r\n    setPositionByRef = (x: number, y: number, reference: React.RefObject<HTMLDivElement> | undefined) => {\r\n        if (reference && reference.current) {\r\n            reference.current.style.left = x + \"px\"\r\n            reference.current.style.top = y + \"px\"\r\n        }\r\n    }\r\n\r\n    removeListeners = () => {\r\n        if (this.movingRef && this.movingRef.current) {\r\n            this.movingRef.current.removeEventListener('mousedown', this.onMouseDown)\r\n        }\r\n\r\n        document.removeEventListener('mouseup', this.onMouseUp)\r\n        document.removeEventListener('mousemove', this.onMouseMove)\r\n    }\r\n}\r\n\r\nexport default DragHandler","import React, { memo, useEffect } from 'react'\r\nimport { OSItemType } from '../../../../../../../global/enums'\r\nimport { ICoordinates, IDragCompletedEvent, IDragHandler, IDragHandlerOptions, IIdDefinedReferenceModel } from '../../../../../../../global/interfaces'\r\nimport DragHandler from '../../../../../../../global/utils/handlers/dragHandler/dragHandler'\r\nimport { getDisplayIcon, getDisplayName } from '../../../../../../../global/utils/helpers/displayHelper'\r\nimport '../styles.scss'\r\n\r\ninterface IDesktopItemProps {\r\n    id: string\r\n    position?: ICoordinates\r\n    type: OSItemType\r\n    reference?: React.RefObject<HTMLDivElement>\r\n    icon?: JSX.Element\r\n    name: string\r\n    extension?: string\r\n    selectedItemsGroup: IIdDefinedReferenceModel[]\r\n    onDesktopItemClicked: (path: string, shift: boolean) => void\r\n    onDesktopItemDoubleClicked: (id: string) => void\r\n    onDesktopItemPositionsChanged: (events: IDragCompletedEvent[]) => void\r\n}\r\n\r\nconst DesktopItem = (props: IDesktopItemProps) => {\r\n    const {\r\n        id,\r\n        type,\r\n        reference,\r\n        icon,\r\n        name,\r\n        extension,\r\n        selectedItemsGroup,\r\n        onDesktopItemClicked,\r\n        onDesktopItemDoubleClicked,\r\n        onDesktopItemPositionsChanged,\r\n        position = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n    } = props\r\n\r\n    useEffect(() => {\r\n        var options: IDragHandlerOptions = {\r\n            id: id,\r\n            movingRef: reference,\r\n            position: position,\r\n            selectedItemsGroup: selectedItemsGroup,\r\n            onDragComplete: onDesktopItemPositionsChanged,\r\n            onClickOccurred: (event) => onDesktopItemClicked(id, event.shiftKey),\r\n            onDoubleClickOccurred: () => onDesktopItemDoubleClicked(id)\r\n        }\r\n\r\n        if (reference && reference.current && position) {\r\n            const { x, y } = position\r\n            reference.current.style.top = `${y}px`\r\n            reference.current.style.left = `${x}px`\r\n        }        \r\n\r\n        var fileHandler: IDragHandler = new DragHandler(options)\r\n\r\n        return () => fileHandler.removeListeners()\r\n    })\r\n\r\n    const displayName = getDisplayName(type, name, extension)\r\n\r\n    const isSelected = selectedItemsGroup.filter(x => x.id === id).length > 0\r\n\r\n    return (\r\n        <div ref={reference} className={`desktop-item${isSelected ? '-selected' : ''}`}>\r\n            <div className=\"desktop-item-container\">\r\n                {icon ? icon : getDisplayIcon(type)}\r\n                <span className=\"desktop-item-name\">{displayName}</span>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default memo(DesktopItem)","import React, { memo } from 'react'\r\nimport DirectoryIcon from '../../../../../../../assets/icons/directoryIcon'\r\nimport FileIcon from '../../../../../../../assets/icons/fileIcon'\r\nimport SettingsIcon from '../../../../../../../assets/icons/settingsIcon'\r\nimport { WindowType } from '../../../../../../../global/enums'\r\nimport { IWindow } from '../../../../../../../global/interfaces'\r\nimport './styles.scss'\r\n\r\ninterface ITaskbarItemProps {\r\n    window: IWindow\r\n    onTaskbarItemClicked: (id: string) => void\r\n    onTaskbarItemDoubleClicked: (id: string) => void\r\n}\r\n\r\nconst TaskbarItem: React.FC<ITaskbarItemProps> = (props: ITaskbarItemProps) => {\r\n    const { window, onTaskbarItemClicked, onTaskbarItemDoubleClicked } = props\r\n\r\n    const TaskbarIcon = () => {\r\n        switch (window.type) {\r\n            case WindowType.Directory:\r\n                return <DirectoryIcon width={20} height={20} />\r\n            case WindowType.Settings:\r\n                return <SettingsIcon width={20} height={20} />\r\n            case WindowType.File:\r\n            default:\r\n                return <FileIcon width={20} height={20} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"taskbar-item\" onClick={() => onTaskbarItemClicked(window.id)} onDoubleClick={() => onTaskbarItemDoubleClicked(window.id)}>\r\n            <TaskbarIcon />\r\n            <span className=\"file-name\">{window.name}</span>\r\n            <div className=\"selected-bottom\" />\r\n        </div>)\r\n}\r\n\r\nexport default memo(TaskbarItem)","import React, { memo, useEffect, useState } from 'react'\r\nimport moment from 'moment'\r\nimport './styles.scss'\r\n\r\nconst DateDisplay : React.FC = () => {\r\n    const [date, setDate] = useState<string>()\r\n\r\n    useEffect(() => {\r\n        var timeout = setInterval(() => {\r\n            var newDate: Date = new Date()\r\n            var amOrPm = newDate.getHours() >= 12 ? 'PM' : 'AM'\r\n            var formatted = `${moment(newDate).format('HH:mm:ss')} ${amOrPm}`\r\n            setDate(formatted) \r\n        }, 1000)\r\n        return () => clearInterval(timeout)\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"date-display\">\r\n            <span>{date}</span>\r\n        </div>)\r\n}\r\n\r\nexport default memo(DateDisplay)","import React, { memo } from 'react'\r\nimport './styles.scss'\r\n\r\ninterface IMinimizeAllButtonProps {\r\n    onMinimizeAllClicked: () => void\r\n}\r\n\r\nconst MinimizeAllButton = (props: IMinimizeAllButtonProps) => {\r\n    const { onMinimizeAllClicked } = props\r\n\r\n\r\n    return (<div className=\"minimize-all\" onClick={onMinimizeAllClicked}/>)\r\n}\r\nexport default memo(MinimizeAllButton)","import React, { memo } from 'react'\r\n\r\nconst StartButtonIcon = () => {\r\n    return (\r\n\t\t<svg version=\"1.1\" id=\"start-button\" x=\"0px\" y=\"0px\"\r\n\t\t\tviewBox=\"0 0 841.9 595.3\" enableBackground=\"new 0 0 841.9 595.3\">\r\n\t\t\t<g>\r\n\t\t\t\t<path fill=\"#61DAFB\" d=\"M666.3,296.5c0-32.5-40.7-63.3-103.1-82.4c14.4-63.6,8-114.2-20.2-130.4c-6.5-3.8-14.1-5.6-22.4-5.6v22.3\r\n\t\tc4.6,0,8.3,0.9,11.4,2.6c13.6,7.8,19.5,37.5,14.9,75.7c-1.1,9.4-2.9,19.3-5.1,29.4c-19.6-4.8-41-8.5-63.5-10.9\r\n\t\tc-13.5-18.5-27.5-35.3-41.6-50c32.6-30.3,63.2-46.9,84-46.9l0-22.3c0,0,0,0,0,0c-27.5,0-63.5,19.6-99.9,53.6\r\n\t\tc-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7,0,51.4,16.5,84,46.6c-14,14.7-28,31.4-41.3,49.9c-22.6,2.4-44,6.1-63.6,11\r\n\t\tc-2.3-10-4-19.7-5.2-29c-4.7-38.2,1.1-67.9,14.6-75.8c3-1.8,6.9-2.6,11.5-2.6l0-22.3c0,0,0,0,0,0c-8.4,0-16,1.8-22.6,5.6\r\n\t\tc-28.1,16.2-34.4,66.7-19.9,130.1c-62.2,19.2-102.7,49.9-102.7,82.3c0,32.5,40.7,63.3,103.1,82.4c-14.4,63.6-8,114.2,20.2,130.4\r\n\t\tc6.5,3.8,14.1,5.6,22.5,5.6c27.5,0,63.5-19.6,99.9-53.6c36.4,33.8,72.4,53.2,99.9,53.2c8.4,0,16-1.8,22.6-5.6\r\n\t\tc28.1-16.2,34.4-66.7,19.9-130.1C625.8,359.7,666.3,328.9,666.3,296.5z M536.1,229.8c-3.7,12.9-8.3,26.2-13.5,39.5\r\n\t\tc-4.1-8-8.4-16-13.1-24c-4.6-8-9.5-15.8-14.4-23.4C509.3,224,523,226.6,536.1,229.8z M490.3,336.3c-7.8,13.5-15.8,26.3-24.1,38.2\r\n\t\tc-14.9,1.3-30,2-45.2,2c-15.1,0-30.2-0.7-45-1.9c-8.3-11.9-16.4-24.6-24.2-38c-7.6-13.1-14.5-26.4-20.8-39.8\r\n\t\tc6.2-13.4,13.2-26.8,20.7-39.9c7.8-13.5,15.8-26.3,24.1-38.2c14.9-1.3,30-2,45.2-2c15.1,0,30.2,0.7,45,1.9\r\n\t\tc8.3,11.9,16.4,24.6,24.2,38c7.6,13.1,14.5,26.4,20.8,39.8C504.7,309.8,497.8,323.2,490.3,336.3z M522.6,323.3\r\n\t\tc5.4,13.4,10,26.8,13.8,39.8c-13.1,3.2-26.9,5.9-41.2,8c4.9-7.7,9.8-15.6,14.4-23.7C514.2,339.4,518.5,331.3,522.6,323.3z\r\n\t\t M421.2,430c-9.3-9.6-18.6-20.3-27.8-32c9,0.4,18.2,0.7,27.5,0.7c9.4,0,18.7-0.2,27.8-0.7C439.7,409.7,430.4,420.4,421.2,430z\r\n\t\t M346.8,371.1c-14.2-2.1-27.9-4.7-41-7.9c3.7-12.9,8.3-26.2,13.5-39.5c4.1,8,8.4,16,13.1,24C337.1,355.7,341.9,363.5,346.8,371.1z\r\n\t\t M420.7,163c9.3,9.6,18.6,20.3,27.8,32c-9-0.4-18.2-0.7-27.5-0.7c-9.4,0-18.7,0.2-27.8,0.7C402.2,183.3,411.5,172.6,420.7,163z\r\n\t\t M346.7,221.9c-4.9,7.7-9.8,15.6-14.4,23.7c-4.6,8-8.9,16-13,24c-5.4-13.4-10-26.8-13.8-39.8C318.6,226.7,332.4,224,346.7,221.9z\r\n\t\t M256.2,347.1c-35.4-15.1-58.3-34.9-58.3-50.6c0-15.7,22.9-35.6,58.3-50.6c8.6-3.7,18-7,27.7-10.1c5.7,19.6,13.2,40,22.5,60.9\r\n\t\tc-9.2,20.8-16.6,41.1-22.2,60.6C274.3,354.2,264.9,350.8,256.2,347.1z M310,490c-13.6-7.8-19.5-37.5-14.9-75.7\r\n\t\tc1.1-9.4,2.9-19.3,5.1-29.4c19.6,4.8,41,8.5,63.5,10.9c13.5,18.5,27.5,35.3,41.6,50c-32.6,30.3-63.2,46.9-84,46.9\r\n\t\tC316.8,492.6,313,491.7,310,490z M547.2,413.8c4.7,38.2-1.1,67.9-14.6,75.8c-3,1.8-6.9,2.6-11.5,2.6c-20.7,0-51.4-16.5-84-46.6\r\n\t\tc14-14.7,28-31.4,41.3-49.9c22.6-2.4,44-6.1,63.6-11C544.3,394.8,546.1,404.5,547.2,413.8z M585.7,347.1c-8.6,3.7-18,7-27.7,10.1\r\n\t\tc-5.7-19.6-13.2-40-22.5-60.9c9.2-20.8,16.6-41.1,22.2-60.6c9.9,3.1,19.3,6.5,28.1,10.2c35.4,15.1,58.3,34.9,58.3,50.6\r\n\t\tC644,312.2,621.1,332.1,585.7,347.1z\"/>\r\n\t\t\t\t<polygon fill=\"#61DAFB\" points=\"320.8,78.4 320.8,78.4 320.8,78.4\" />\r\n\t\t\t\t<circle fill=\"#61DAFB\" cx=\"420.9\" cy=\"296.5\" r=\"45.7\" />\r\n\t\t\t\t<polygon fill=\"#61DAFB\" points=\"520.5,78.1 520.5,78.1 520.5,78.1\" />\r\n\t\t\t</g>\r\n\t\t</svg>)\r\n}\r\n\r\nexport default memo(StartButtonIcon)","import React, { memo } from 'react'\r\nimport StartButtonIcon from '../../../../../../../assets/icons/startButtonIcon'\r\nimport './styles.scss'\r\n\r\nexport interface IStartButtonProps {\r\n    startButtonRef: React.RefObject<HTMLDivElement>\r\n    onStartButtonClicked: () => void\r\n}\r\n\r\nconst StartButton = (props: IStartButtonProps) => {\r\n    const {\r\n        startButtonRef,\r\n        onStartButtonClicked\r\n    } = props\r\n\r\n    return (\r\n        <div className=\"start-menu-button\" onClick={onStartButtonClicked} ref={startButtonRef}>\r\n            <StartButtonIcon />\r\n        </div>)\r\n}\r\n\r\nexport default memo(StartButton)","import React from 'react'\r\nimport DateDisplay from './components/dateDisplay/dateDisplay'\r\nimport MinimizeAllButton from './components/minimizeAllButton/minimizeAllButton'\r\nimport StartButton from './components/startButton/startButton'\r\nimport './styles.scss'\r\n\r\nexport interface ITaskbarProps {\r\n    startButtonRef: React.RefObject<HTMLDivElement>\r\n    children: React.ReactNode\r\n    onMinimizeAllClicked: () => void\r\n    onStartButtonClicked: () => void\r\n}\r\n\r\nconst Taskbar = (props: ITaskbarProps) => {\r\n    const {\r\n        startButtonRef,\r\n        children,\r\n        onMinimizeAllClicked,\r\n        onStartButtonClicked\r\n    } = props\r\n\r\n    return (\r\n        <div className=\"taskbar\">\r\n            <StartButton\r\n                onStartButtonClicked={onStartButtonClicked}\r\n                startButtonRef={startButtonRef}\r\n            />\r\n            <MinimizeAllButton onMinimizeAllClicked={onMinimizeAllClicked} />\r\n            <DateDisplay />\r\n            <div className=\"taskbar-items-container\">\r\n                {children}\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default Taskbar","import React, { memo } from 'react'\r\nimport './styles.scss'\r\n\r\nconst Wallpaper = () => {\r\n    return (\r\n        <div className=\"wallpaper\">\r\n            <div className=\"bg\"></div>\r\n            <div className=\"bg bg2\"></div>\r\n            <div className=\"bg bg3\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(Wallpaper)","import React from 'react'\r\nimport { IHydratedDirectory, IOSItemClickedEvent, IWindow } from '../../../global/interfaces'\r\nimport DesktopGrid from './components/desktopGrid/desktopGrid'\r\nimport TaskbarItem from './components/taskbar/components/taskbarItem/taskbarItem'\r\nimport Taskbar from './components/taskbar/taskbar'\r\nimport Wallpaper from './components/wallpaper/wallpaper'\r\nimport './styles.scss'\r\n\r\ninterface IDesktopProps {\r\n    windows: IWindow[]\r\n    startMenuShow: boolean\r\n    startButtonRef: React.RefObject<HTMLDivElement>\r\n    onTaskbarItemClicked: (id: string) => void\r\n    onTaskbarItemDoubleClicked: (id: string) => void\r\n    onDesktopItemsDoubleClicked: (events: IOSItemClickedEvent[]) => void\r\n    minimizeAllWindows: () => void\r\n    getHydratedDirectory: (id: string, driveId: string | undefined) => IHydratedDirectory | undefined\r\n    setStartMenuShow: (show: boolean) => void\r\n}\r\n\r\nconst Desktop = (props: IDesktopProps) => {\r\n    const {\r\n        windows,\r\n        startMenuShow,\r\n        startButtonRef,\r\n        onTaskbarItemClicked,\r\n        onTaskbarItemDoubleClicked,\r\n        minimizeAllWindows,\r\n        onDesktopItemsDoubleClicked,\r\n        getHydratedDirectory,\r\n        setStartMenuShow\r\n    } = props\r\n\r\n    return (\r\n        <div className=\"desktop\">\r\n            <Wallpaper />\r\n            <DesktopGrid\r\n                getHydratedDirectory={getHydratedDirectory}\r\n                onDesktopItemsDoubleClicked={onDesktopItemsDoubleClicked}\r\n            />\r\n\r\n            <Taskbar\r\n                startButtonRef={startButtonRef}\r\n                onMinimizeAllClicked={minimizeAllWindows}\r\n                onStartButtonClicked={() => setStartMenuShow(!startMenuShow)}\r\n            >\r\n                {windows.map(w => {\r\n                    return (<TaskbarItem\r\n                                key={w.id}\r\n                                window={w}\r\n                                onTaskbarItemClicked={onTaskbarItemClicked}\r\n                                onTaskbarItemDoubleClicked={onTaskbarItemDoubleClicked} />)\r\n                })}\r\n            </Taskbar>\r\n        </div>)\r\n}\r\n\r\nexport default Desktop","import React from 'react'\r\nimport './styles.scss'\r\n\r\ninterface IPowerModalProps {\r\n    sleep: () => void\r\n    shutdown: () => void\r\n    restart: () => void\r\n}\r\n\r\nconst PowerModal = (props: IPowerModalProps) => {\r\n    const {\r\n        sleep,\r\n        shutdown,\r\n        restart\r\n    } = props\r\n\r\n    return (\r\n        <div className=\"power-modal\">\r\n            <div className=\"power-option\" onClick={sleep}>\r\n                <span className=\"power-option-text\">Sleep</span>\r\n            </div>\r\n            <div className=\"power-option\" onClick={shutdown}>\r\n                <span className=\"power-option-text\">Shutdown</span>\r\n            </div>\r\n            <div className=\"power-option\" onClick={restart}>\r\n                <span className=\"power-option-text\">Restart</span>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default PowerModal","import React, { memo } from 'react'\r\n\r\nconst CloseIcon = () => {\r\n    //Close Button icon by https://icons8.com\r\n    return (\r\n        <svg fill=\"#FFFFFF\" viewBox=\"0 0 30 30\" width=\"20px\" height=\"20px\">\r\n            <path d=\"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z\" />\r\n        </svg>)\r\n}\r\n\r\nexport default memo(CloseIcon)","import React from 'react'\r\nimport './styles.scss'\r\nimport CloseIcon from '../../../assets/icons/closeIcon'\r\nimport { URLS } from '../../../global/constants'\r\n\r\ninterface IOverlayProps {\r\n    onClick: () => void\r\n}\r\n\r\nconst Overlay = (props: IOverlayProps) => {\r\n    const { onClick } = props\r\n    const { gitHub, linkedIn, cv } = URLS\r\n\r\n    const onClickHandler = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>, url: string) => {\r\n        if (event.button === 0) {\r\n            window.location.href = url\r\n        } else if (event.button === 1) {\r\n            window.open(url, '_blank')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"overlay\">\r\n            <div onClick={onClick}>\r\n                <CloseIcon />\r\n            </div>\r\n            <div className=\"central-div\">\r\n                <span className=\"heading\">Oliver Bathurst</span>\r\n                <span className=\"sub-heading\">Full Stack Developer</span>\r\n                <div className=\"overlay-button-container\">\r\n                    <button className=\"overlay-link\" onMouseDown={(e) => onClickHandler(e, gitHub)}>GitHub</button>\r\n                    <button className=\"overlay-link\" onMouseDown={(e) => onClickHandler(e, linkedIn)}>LinkedIn</button>\r\n                    <button className=\"overlay-link\" onMouseDown={(e) => onClickHandler(e, cv)}>CV</button>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default Overlay","import React, { memo } from 'react'\r\n\r\nconst MaximizeIcon = () => {\r\n    return (\r\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 30 30\" preserveAspectRatio=\"xMidYMid meet\">\r\n            <g transform=\"translate(0.000000,32.000000) scale(0.100000,-0.100000)\"\r\n                fill=\"#FFFFFF\" stroke=\"none\">\r\n                <path d=\"M50 160 l0 -110 110 0 110 0 0 110 0 110 -110 0 -110 0 0 -110z m200 0 l0 -90 -90 0 -90 0 0 90 0 90 90 0 90 0 0 -90z\"/>\r\n            </g>\r\n        </svg>)\r\n}\r\n\r\nexport default memo(MaximizeIcon)","import React, { memo } from 'react'\r\n\r\nconst MinimizeIcon = () => {\r\n    return (\r\n        <svg width=\"20px\" height=\"20px\" viewBox=\"0 0 30 30\" preserveAspectRatio=\"xMidYMid meet\">\r\n        <g transform=\"translate(0.000000,32.000000) scale(0.100000,-0.100000)\"\r\n            fill=\"#FFFFFF\" stroke=\"none\">\r\n            <path d=\"M50 160 l0 -110 110 0 110 0 0 110 0 110 -110 0 -110 0 0 -110z m200 0 l0 -90 -90 0 -90 0 0 90 0 90 90 0 90 0 0 -90z\"/>\r\n            <path d=\"M90 110 c0 -6 30 -10 70 -10 40 0 70 4 70 10 0 6 -30 10 -70 10 -400 -70 -4 -70 -10z\"/>\r\n        </g>\r\n    </svg>)\r\n}\r\n\r\nexport default memo(MinimizeIcon)","import React, { memo } from 'react'\r\nimport CloseIcon from '../../../../../../assets/icons/closeIcon'\r\nimport MaximizeIcon from '../../../../../../assets/icons/maximizeIcon'\r\nimport MinimizeIcon from '../../../../../../assets/icons/minimizeIcon'\r\nimport { WindowState } from '../../../../../../global/enums'\r\nimport './styles.scss'\r\n\r\nexport interface IWindowControlsProps {\r\n    id: string\r\n    onWindowStateChanged: (id: string, state: WindowState) => void\r\n}\r\n\r\nconst WindowControls = (props: IWindowControlsProps) => {\r\n    const { id, onWindowStateChanged } = props\r\n\r\n    return (\r\n        <div className=\"window-controls\">\r\n            <div className=\"window-controls-button\" onClick={() => onWindowStateChanged(id, WindowState.Minimized)}>\r\n                <MinimizeIcon />\r\n            </div>\r\n            <div className=\"window-controls-button\" onClick={() => onWindowStateChanged(id, WindowState.Maximized)}>\r\n                <MaximizeIcon />\r\n            </div>\r\n            <div className=\"window-controls-button-negative\" onClick={() => onWindowStateChanged(id, WindowState.Closed)}>\r\n                <CloseIcon />\r\n            </div>\r\n        </div>)\r\n\r\n}\r\n\r\nexport default memo(WindowControls)","import React, { memo } from 'react'\r\nimport { WindowState } from '../../../../../global/enums'\r\nimport { IWindow } from '../../../../../global/interfaces'\r\nimport WindowControls from './components/windowControls'\r\nimport './styles.scss'\r\n\r\ninterface IWindowBarProps {\r\n    window: IWindow\r\n    reference: React.RefObject<HTMLDivElement>\r\n    onWindowStateChanged: (id: string, state: WindowState) => void\r\n    onWindowClicked: (id: string) => void\r\n}\r\n\r\nconst WindowBar = (props: IWindowBarProps) => {\r\n    const {\r\n        window,\r\n        reference,\r\n        onWindowStateChanged,\r\n        onWindowClicked\r\n    } = props\r\n\r\n    return (\r\n        <>\r\n            <div className=\"window-bar\" onClick={() => onWindowClicked(window.id)} ref={reference}>\r\n                <div>\r\n                    {window.icon &&\r\n                        <div className=\"icon-container\">\r\n                            {window.icon}\r\n                        </div>\r\n                    }\r\n                    <span className=\"text\">{window.name}</span>\r\n                </div>\r\n                <WindowControls id={window.id} onWindowStateChanged={onWindowStateChanged} />\r\n            </div>\r\n        </>)\r\n\r\n}\r\n\r\nexport default memo(WindowBar)","import React, { memo, useEffect, useRef } from 'react'\r\nimport { WindowState } from '../../../global/enums'\r\nimport { IDragCompletedEvent, IDragHandlerOptions, IWindow, IWindowSize } from '../../../global/interfaces'\r\nimport DragHandler from '../../../global/utils/handlers/dragHandler/dragHandler'\r\nimport { getMaxWindowHeight, getMaxWindowWidth } from '../../../global/utils/helpers/windowHelper'\r\nimport WindowBar from './components/windowBar/windowBar'\r\nimport './styles.scss'\r\n\r\ninterface IWindowProps {\r\n    window: IWindow\r\n    onWindowStateChanged: (id: string, state: WindowState) => void\r\n    onWindowClicked: (id: string) => void\r\n    onWindowSizeChanged: (id: string, size: IWindowSize) => void\r\n    onWindowSelected: (id: string) => void\r\n    onWindowPositionChanged: (completedDrags: IDragCompletedEvent[]) => void\r\n}\r\n\r\nconst Window = (props: IWindowProps) => {\r\n    const {\r\n        window: windowObj,\r\n        onWindowStateChanged,\r\n        onWindowClicked,\r\n        onWindowSizeChanged,\r\n        onWindowSelected,\r\n        onWindowPositionChanged\r\n    } = props\r\n\r\n    const containerRef = useRef<HTMLDivElement>(null)\r\n    const windowBarRef = useRef<HTMLDivElement>(null)\r\n    const windowRef = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        const dragHandlerOptions: IDragHandlerOptions = {\r\n            id: windowObj.id,\r\n            elementRef: windowRef,\r\n            movingRef: windowBarRef,\r\n            onDragStarted: () => onWindowSelected(windowObj.id),\r\n            onDragComplete: onWindowPositionChanged,\r\n            position: windowObj.position\r\n        }\r\n\r\n        var dragHandler = new DragHandler(dragHandlerOptions)\r\n        return () => dragHandler.removeListeners()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (windowRef.current && windowBarRef.current && containerRef.current) {\r\n            const { x, y } = windowObj.position\r\n\r\n            windowRef.current.style.top = `${y}px`\r\n            windowRef.current.style.left = `${x}px`\r\n\r\n            var maxWindowWidth = getMaxWindowWidth(x)\r\n            var maxWindowHeight = getMaxWindowHeight(y)\r\n\r\n            if (windowObj.size) {\r\n                const { width, height } = windowObj.size\r\n\r\n                var overX = width > maxWindowWidth\r\n                var overY = height > maxWindowHeight\r\n\r\n                maxWindowWidth = overX ? maxWindowWidth : width\r\n                maxWindowHeight = overY ? maxWindowHeight : height\r\n\r\n                windowRef.current.style.width = `${overX ? maxWindowWidth : width}px`\r\n                windowRef.current.style.height = `${overY ? maxWindowHeight : height}px`\r\n            }\r\n\r\n            containerRef.current.style.maxHeight = `${maxWindowHeight - windowBarRef.current.clientHeight}px`\r\n\r\n            windowRef.current.style.maxWidth = `${maxWindowWidth}px`\r\n            windowRef.current.style.maxHeight = `${maxWindowHeight}px`\r\n\r\n            if (windowObj.state === WindowState.Maximized) {\r\n                windowRef.current.style.width = `${maxWindowWidth}px`\r\n                windowRef.current.style.height = `${maxWindowHeight}px`\r\n                containerRef.current.style.height = `${maxWindowHeight - windowBarRef.current.clientHeight}px`\r\n            }\r\n        }\r\n    }, [windowObj.id, windowObj.size, windowObj.position])\r\n\r\n    return (\r\n        <div id={`window-${windowObj.id}`} className={`window${windowObj.selected ? '-selected' : ''}`} ref={windowRef}>\r\n            <WindowBar\r\n                window={windowObj}\r\n                reference={windowBarRef}\r\n                onWindowStateChanged={onWindowStateChanged}\r\n                onWindowClicked={onWindowClicked} />\r\n            <div className=\"window-container\" onClick={() => onWindowClicked(windowObj.id)} ref={containerRef}>\r\n                {windowObj.element}\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default memo(Window)","import React, { useEffect, useRef, useState } from 'react'\r\nimport SettingsIcon from '../assets/icons/settingsIcon'\r\nimport { OSItemType, SystemState, WindowState, WindowType } from '../global/enums'\r\nimport { IApplicationHandler, IDragCompletedEvent, IDriveManager, IOSItemClickedEvent, IWindow, IWindowManager, IWindowSize } from '../global/interfaces'\r\nimport ApplicationHandler from '../global/utils/handlers/applicationHandler/applicationHandler'\r\nimport { isMobileView } from '../global/utils/helpers/mobileHelper'\r\nimport DriveManager from '../global/utils/managers/driveManager/driveManager'\r\nimport WindowManager from '../global/utils/managers/windowManager/windowManager'\r\nimport StartMenu from './components/startMenu/startMenu'\r\nimport Desktop from './components/desktop/desktop'\r\nimport PowerModal from './components/modals/power/powerModal'\r\nimport Overlay from './components/overlay/overlay'\r\nimport Window from './components/window/window'\r\nimport './styles.scss'\r\n\r\nconst driveManager: IDriveManager = new DriveManager()\r\nconst windowManager: IWindowManager = new WindowManager()\r\nconst applicationHandler: IApplicationHandler = new ApplicationHandler()\r\n\r\nconst System = () => {\r\n    const [windows, setWindows] = useState<IWindow[]>([])\r\n    const [systemState, setSystemState] = useState<SystemState>(SystemState.On)\r\n    const [showOverlay, setShowOverlay] = useState<boolean>(isMobileView())\r\n    const [startMenuShow, setStartMenuShow] = useState(false)\r\n\r\n    const startButtonRef = useRef<HTMLDivElement>(null)\r\n\r\n    useEffect(() => {\r\n        const handleKeyDown = (event: KeyboardEvent) => {\r\n            if (event.code === \"Escape\" && systemState === SystemState.Sleeping) {\r\n                setSystemState(SystemState.On)\r\n            }\r\n        }\r\n\r\n        const handleResize = () => {\r\n            var mobileView = isMobileView()\r\n            if (mobileView) {\r\n                if (!showOverlay) {\r\n                    setShowOverlay(true)\r\n                }\r\n            } else {\r\n                if (showOverlay) {\r\n                    setShowOverlay(false)\r\n                }\r\n            }\r\n        }\r\n\r\n        window.addEventListener(\"keydown\", handleKeyDown)\r\n        window.addEventListener(\"resize\", handleResize)\r\n\r\n        return () => {\r\n            window.removeEventListener(\"keydown\", handleKeyDown)\r\n            window.removeEventListener(\"resize\", handleResize)\r\n        }\r\n    }, [systemState, showOverlay])\r\n\r\n    const invokeApplicationHandler = (events: IOSItemClickedEvent[]) => {\r\n        for (const event of events) {\r\n            var win: IWindow | null = null\r\n\r\n            const { id, type, driveId } = event\r\n\r\n            const onFileDoubleClicked = (fileId: string, fileDriveId: string | undefined) => {\r\n                if (fileId && fileDriveId) {\r\n                    var e = { driveId: fileDriveId, type: OSItemType.File } as IOSItemClickedEvent\r\n                    e.id = fileId\r\n                    invokeApplicationHandler([e])\r\n                }\r\n            }\r\n\r\n            switch (type) {\r\n                case OSItemType.Directory:\r\n                    win = applicationHandler.invokeDirectoryHandler(\r\n                        driveManager.getHydratedDirectory(id, driveId),\r\n                        driveManager.getHydratedDirectory,\r\n                        onFileDoubleClicked)\r\n                    break\r\n                case OSItemType.File:\r\n                    win = applicationHandler.invoke(driveManager.getFile(id, driveId))\r\n                    break\r\n                case OSItemType.DirectoryShortcut:\r\n                    var directoryShortcut = driveManager.getShortcut(id, driveId)\r\n                    if (directoryShortcut) {\r\n                        win = applicationHandler.invokeDirectoryHandler(\r\n                            driveManager.getHydratedDirectory(directoryShortcut.link, driveId),\r\n                            driveManager.getHydratedDirectory,\r\n                            onFileDoubleClicked)\r\n                    }\r\n                    break\r\n                case OSItemType.FileShortcut:\r\n                    var fileShortcut = driveManager.getShortcut(id, driveId)\r\n                    if (fileShortcut) {\r\n                        win = applicationHandler.invoke(driveManager.getFile(fileShortcut.link, driveId))\r\n                    }\r\n                    break\r\n            }\r\n\r\n            if (win) {\r\n                windowManager.addWindow(win)\r\n            }\r\n        }\r\n       \r\n        setWindows(windowManager.windows)\r\n    }\r\n\r\n    const onPowerButtonClicked = () => {\r\n        var win: IWindow = {\r\n            id: 'window-temp',\r\n            name: 'Power',\r\n            state: WindowState.Normal,\r\n            selected: true,\r\n            type: WindowType.Settings,\r\n            position: { x: window.innerWidth / 2, y: window.innerHeight / 2 },\r\n            icon: <SettingsIcon />,\r\n            element: (\r\n                <PowerModal\r\n                    sleep={() => setSystemState(SystemState.Sleeping)}\r\n                    restart={() => window.location.reload()}\r\n                    shutdown={() => setSystemState(SystemState.Off)}\r\n                />)\r\n        }\r\n\r\n        windowManager.addWindow(win)\r\n        setWindows(windowManager.windows)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {systemState === SystemState.On ?\r\n                <>\r\n                    {showOverlay &&\r\n                        <Overlay onClick={() => setShowOverlay(false)} />\r\n                    }\r\n                    \r\n                    <Desktop\r\n                        windows={windows}\r\n                        startMenuShow={startMenuShow}\r\n                        startButtonRef={startButtonRef}\r\n                        minimizeAllWindows={() => setWindows(windowManager.minimizeAllWindows())}\r\n                        getHydratedDirectory={driveManager.getHydratedDirectory}\r\n                        onTaskbarItemClicked={(id: string) => setWindows(windowManager.onTaskbarItemClicked(id))}\r\n                        onTaskbarItemDoubleClicked={(id: string) => setWindows(windowManager.onTaskbarItemDoubleClicked(id))}\r\n                        onDesktopItemsDoubleClicked={invokeApplicationHandler}\r\n                        setStartMenuShow={setStartMenuShow}\r\n                    />\r\n\r\n                    {windows.filter(w => w.state !== WindowState.Minimized).map(w => {\r\n                        return (\r\n                            <Window\r\n                                key={w.id}\r\n                                window={w}\r\n                                onWindowSelected={(id) => setWindows(windowManager.onWindowSelected(id))}\r\n                                onWindowStateChanged={(id: string, state: WindowState) => setWindows(windowManager.onWindowStateChanged(id, state))}\r\n                                onWindowClicked={(id: string) => setWindows(windowManager.onWindowClicked(id))}\r\n                                onWindowSizeChanged={(id: string, size: IWindowSize) => setWindows(windowManager.onWindowSizeChanged(id, size))}\r\n                                onWindowPositionChanged={(completedDrags: IDragCompletedEvent[]) => setWindows(windowManager.onWindowPositionChanged(completedDrags))} />)\r\n                    })}\r\n\r\n                    {startMenuShow &&\r\n                        <StartMenu\r\n                            onPowerButtonClicked={onPowerButtonClicked}\r\n                            onNavigateAway={() => setStartMenuShow(false)}\r\n                            getAllFiles={driveManager.getAllFiles}\r\n                            onStartMenuItemClicked={(event) => invokeApplicationHandler([event])}\r\n                            startButtonRef={startButtonRef}\r\n                        />\r\n                    }\r\n                </> : <div className=\"off-or-sleep-display\" />\r\n            }\r\n        </>)\r\n}\r\n\r\nexport default System","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport System from './system/system';\n\nReactDOM.render(\n  <React.StrictMode>\n    <System />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}